{"ast":null,"code":"import _classCallCheck from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import DefaultImage from'../../images/default.png';import{Link}from'react-router-dom';import{putChangePrivileges,isAuthenticated}from'../../controllers/userController';import Notify from'../components/Notify';var UserInfo=/*#__PURE__*/function(_React$Component){_inherits(UserInfo,_React$Component);function UserInfo(){var _this;_classCallCheck(this,UserInfo);_this=_possibleConstructorReturn(this,_getPrototypeOf(UserInfo).call(this));_this.clearMess=function(){_this.setState({message:\"\"});};_this.handleChangeRole=function(uid,pid){console.log(uid,pid);putChangePrivileges(uid,pid,isAuthenticated().token).then(function(res){_this.setState({message:res.message});}).catch(function(err){console.log(err);});};_this.state={message:\"\"};return _this;}_createClass(UserInfo,[{key:\"render\",value:function render(){var _this2=this;console.log(this.props);var user=this.props.userIf;var pris=this.props.pris;var message=this.state.message;return React.createElement(\"div\",{className:\"grid-layout--cell tags-cell\"},React.createElement(Notify,null),message!==\"\"&&React.createElement(Notify,{class:\"on\",text:message,clearMess:this.clearMess}),React.createElement(\"div\",{className:\"user-gavatar48\"},React.createElement(Link,{to:\"/users/\".concat(user._id)},React.createElement(\"img\",{className:\"user-avatar\",loading:\"lazy\",src:user.photo||DefaultImage,alt:\"none\"}))),React.createElement(\"div\",{className:\"user-detail d-flex\"},React.createElement(\"div\",null,React.createElement(Link,{to:\"/users/\".concat(user._id)},user.fullname||user.email),React.createElement(\"div\",{className:\"-flair\"},React.createElement(\"span\",{className:\"reputation-score\",title:\"reputation this week: 1,110 total reputation: 413,462\",dir:\"ltr\"},user.followers.length,\" Follwers\")),React.createElement(\"div\",{className:\"-flair\"},React.createElement(\"span\",{className:\"reputation-score\",title:\"reputation this week: 1,110 total reputation: 413,462\",dir:\"ltr\"},user.following.length,\" Following\")))),React.createElement(\"div\",{className:\"user-tags clear-fix\"},React.createElement(\"select\",{name:\"user-roles\",className:\"user-roles\",onChange:function onChange(_ref){var target=_ref.target;return _this2.handleChangeRole(user._id,target.value);}},pris.map(function(pr){if(user.email==\"liars\")console.log(pr.permission,user.roles.permission);return React.createElement(\"option\",{selected:pr.permission===user.roles.permission,value:pr._id},pr.permission,\" - \",pr.description);}))));}}]);return UserInfo;}(React.Component);export default UserInfo;","map":{"version":3,"sources":["/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/admin/users/UserInfo.js"],"names":["React","DefaultImage","Link","putChangePrivileges","isAuthenticated","Notify","UserInfo","clearMess","setState","message","handleChangeRole","uid","pid","console","log","token","then","res","catch","err","state","props","user","userIf","pris","_id","photo","fullname","email","followers","length","following","target","value","map","pr","permission","roles","description","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport DefaultImage from '../../images/default.png';\nimport { Link } from 'react-router-dom';\nimport { putChangePrivileges, isAuthenticated } from '../../controllers/userController';\nimport Notify from '../components/Notify';\n\nclass UserInfo extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            message: \"\"\n        }\n    }\n\n    clearMess = () => {\n        this.setState( {message: \"\"} );\n    }\n\n    handleChangeRole = (uid, pid) => {\n        console.log(uid, pid);\n        putChangePrivileges(uid, pid, isAuthenticated().token)\n        .then( res => {\n            this.setState( {message: res.message} );\n        })\n        .catch( err => {\n            console.log(err);\n        })\n    }\n\n    render() {\n        console.log(this.props)\n        const user = this.props.userIf;\n        const pris = this.props.pris;\n        const { message } = this.state;\n        return (\n            <div className=\"grid-layout--cell tags-cell\">\n                <Notify />  \n                {message !== \"\" &&  <Notify class=\"on\" text={message} clearMess={this.clearMess} />}\n                <div className=\"user-gavatar48\">\n                    <Link to={`/users/${user._id}`}>\n                        <img className=\"user-avatar\" loading=\"lazy\" src={user.photo || DefaultImage} alt=\"none\"/>\n                    </Link>\n                </div>\n                <div className=\"user-detail d-flex\">\n                    <div>\n                    <Link to={`/users/${user._id}`}>{user.fullname || user.email}</Link>\n                        {/* <span className=\"user-location\">{props.userLocation}</span> */}\n                        <div className=\"-flair\">\n                            <span className=\"reputation-score\" title=\"reputation this week: 1,110 total reputation: 413,462\" dir=\"ltr\">{user.followers.length} Follwers</span>\n                        </div>\n                        <div className=\"-flair\">\n                            <span className=\"reputation-score\" title=\"reputation this week: 1,110 total reputation: 413,462\" dir=\"ltr\">{user.following.length} Following</span>\n                        </div>\n                    </div>\n                </div>\n                {/* <div className=\"user-tags clear-fix\">\n                    <a href=\"#t\">pandas</a>, <a href=\"#t\">python</a>, <a href=\"#t\">dataframe</a>\n                </div> */}\n                <div className=\"user-tags clear-fix\">\n                    <select name=\"user-roles\" className=\"user-roles\" onChange={({target}) => this.handleChangeRole(user._id, target.value)}>\n                        {\n                            pris.map( pr => {\n                                if(user.email==\"liars\") console.log(pr.permission, user.roles.permission);  \n                                return <option selected={pr.permission === user.roles.permission} value={pr._id}>{pr.permission} - {pr.description}</option>\n                            })\n                        }\n                    </select>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default UserInfo;"]},"metadata":{},"sourceType":"module"}