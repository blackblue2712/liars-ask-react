{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/Study_space/liars-ask-react/src/client/images-gallery/ImagesGallery.js\";\nimport React from 'react';\nimport \"./ImagesGallery.css\";\nimport ModalPopup from './ModalPopup';\nimport { getUploadImages } from '../../controllers/galleryController';\nimport { isAuthenticated } from '../../controllers/userController';\n\nclass ImagesGallery extends React.Component {\n  constructor() {\n    super();\n\n    this.handleUploadedImage = url => {\n      this.setState({\n        images: [arrImgs1, arrImgs2, arrImgs3, [...arrImgs4, url]]\n      });\n    };\n\n    this.state = {\n      images: []\n    };\n  }\n\n  async componentDidMount() {\n    let usreId = isAuthenticated().user._id;\n\n    let data = await getUploadImages(usreId);\n    let arrImgs1 = [];\n    let arrImgs2 = [];\n    let arrImgs3 = [];\n    let arrImgs4 = []; // try 4 for loop\n\n    if (data.images && data.images.length > 4) {\n      for (let i = 0; i < data.images.length; i += 4) {\n        arrImgs1 = [...arrImgs1, data.images[i]];\n\n        if (data.images[i + 1] !== undefined) {\n          arrImgs2 = [...arrImgs2, data.images[i + 1]];\n\n          if (data.images[i + 2] !== undefined) {\n            arrImgs3 = [...arrImgs3, data.images[i + 2]];\n\n            if (data.images[i + 3] !== undefined) {\n              arrImgs4 = [...arrImgs4, data.images[i + 3]];\n            }\n          }\n        }\n      }\n\n      this.setState({\n        images: [arrImgs1, arrImgs2, arrImgs3, arrImgs4]\n      });\n    } else if (data.images && data.images.length <= 4) {\n      this.setState({\n        images: [data.images]\n      });\n    }\n\n    console.log(this.state.images);\n  }\n\n  render() {\n    let images = this.state.images;\n    return React.createElement(\"div\", {\n      id: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"main-head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grid d-flex align-items-centers mb16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"fs-headline1 mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Images Gallery\"), React.createElement(\"button\", {\n      className: \"s-btn s-btn__outline s-btn__primary s-btn__primary\",\n      onClick: () => document.getElementsByClassName(\"js-welcom-modal\")[0].style.display = \"block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"+ Upload photo\")), React.createElement(\"p\", {\n      className: \"mb24 f13 fw350\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"images-gallery\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(ModalPopup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"mini-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, images.map(arr => {\n      return React.createElement(\"div\", {\n        className: \"image-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, arr.map(img => {\n        return React.createElement(\"div\", {\n          className: \"image-card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"w-220\",\n          src: img,\n          alt: \"imgs-gallery\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"image-url\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, img)));\n      }));\n    }))), React.createElement(\"div\", {\n      className: \"clear-fix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ImagesGallery;","map":{"version":3,"sources":["/opt/lampp/htdocs/Study_space/liars-ask-react/src/client/images-gallery/ImagesGallery.js"],"names":["React","ModalPopup","getUploadImages","isAuthenticated","ImagesGallery","Component","constructor","handleUploadedImage","url","setState","images","arrImgs1","arrImgs2","arrImgs3","arrImgs4","state","componentDidMount","usreId","user","_id","data","length","i","undefined","console","log","render","document","getElementsByClassName","style","display","map","arr","img"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"./ImagesGallery.css\";\nimport ModalPopup from './ModalPopup';\nimport  { getUploadImages } from '../../controllers/galleryController';\nimport { isAuthenticated } from '../../controllers/userController';\n\nclass ImagesGallery extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            images: []\n        }\n    }\n\n    handleUploadedImage = (url) => {\n        this.setState( {images: [arrImgs1, arrImgs2, arrImgs3, [...arrImgs4, url]]} );\n    }\n\n    async componentDidMount() {\n        let usreId = isAuthenticated().user._id;\n        let data = await getUploadImages(usreId);\n        \n        let arrImgs1 = [];\n        let arrImgs2 = [];\n        let arrImgs3 = [];\n        let arrImgs4 = [];\n\n        // try 4 for loop\n        if(data.images && data.images.length > 4) {\n            for(let i = 0; i < data.images.length; i+=4) {\n                arrImgs1 = [...arrImgs1, data.images[i]];\n                if(data.images[i+1] !== undefined) {\n                    arrImgs2 = [...arrImgs2, data.images[i+1]];\n                    if(data.images[i+2] !== undefined) {\n                        arrImgs3 = [...arrImgs3, data.images[i+2]];\n                        if(data.images[i+3] !== undefined) {\n                            arrImgs4 = [...arrImgs4, data.images[i+3]];\n                        }\n                    }\n                }\n            }\n            this.setState( {images: [arrImgs1, arrImgs2, arrImgs3, arrImgs4]} );\n        } else if(data.images && data.images.length <= 4) {\n            this.setState( {images: [data.images]} );\n        }\n\n\n\n        console.log(this.state.images)\n    }\n\n    render() {\n        let { images } = this.state;\n        return (\n            <div id=\"content\">\n                <div className=\"main-head\">\n                    {/* <Notify />  \n                    {message !== \"\" &&  <Notify class=\"on\" text={message} clearMess={this.clearMess} />} */}\n                    <div className=\"grid d-flex align-items-centers mb16\">\n                        <h1 className=\"fs-headline1 mr-auto\">Images Gallery</h1>\n                        <button\n                            className=\"s-btn s-btn__outline s-btn__primary s-btn__primary\"\n                            onClick={() => document.getElementsByClassName(\"js-welcom-modal\")[0].style.display = \"block\"}\n                        >+ Upload photo</button>\n                    </div>\n                    <p className=\"mb24 f13 fw350\">\n                        <hr/>\n                    </p>\n                </div>\n\n                {/* LIST WRAPPER  */}\n                <div id=\"images-gallery\">\n                    <ModalPopup />\n                    <div className=\"mini-list\">\n                        {/* LIST ITEM */}\n                        {\n                            images.map( arr => {\n                                return (\n                                    <div className=\"image-card\">\n                                        {\n                                            arr.map( img => {\n                                                return (\n                                                    <div className=\"image-card\">\n                                                        <img className=\"w-220\" src={img} alt=\"imgs-gallery\"/>\n                                                        <div className=\"image-url\">\n                                                            <span>{img}</span>\n                                                        </div>\n                                                    </div>\n                                                )\n                                            })\n                                        }\n                                    </div>\n                                )\n                            })\n                        }\n\n                    </div>\n                </div>\n\n                <div className=\"clear-fix\"></div>\n            </div>\n        )\n    }\n}\n\nexport default ImagesGallery;"]},"metadata":{},"sourceType":"module"}