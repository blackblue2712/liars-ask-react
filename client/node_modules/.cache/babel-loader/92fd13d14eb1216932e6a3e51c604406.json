{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/client/questions/AnswerItem.js\";\nimport React from 'react';\nimport UserInfo from '../users/UserInfo';\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from '../editor/CodeBlock';\nimport { isAuthenticated } from '../../controllers/userController';\nimport { voteAnswerUp, voteAnswerDown } from '../../controllers/voteController';\n\nclass AnswerItem extends React.Component {\n  constructor() {\n    super();\n\n    this.handleAnswerVoteUp = () => {\n      let ansId = this.props.data._id;\n\n      let userId = isAuthenticated().user._id;\n\n      let token = isAuthenticated().token;\n      voteAnswerUp(ansId, userId, token).then(res => {\n        if (res.message === \"Voted\") {\n          this.setState({\n            count: res.votesLength,\n            isActive: \"active\",\n            isActiveDown: \"\"\n          });\n        } else {\n          this.setState({\n            count: res.votesLength,\n            isActive: \"\"\n          });\n        }\n      });\n    };\n\n    this.handleAnswerVoteDown = () => {\n      let ansId = this.props.data._id;\n\n      let userId = isAuthenticated().user._id;\n\n      let token = isAuthenticated().token;\n      voteAnswerDown(ansId, userId, token).then(res => {\n        if (res.message === \"Voted\") {\n          this.setState({\n            count: res.votesLength,\n            isActiveDown: \"active\",\n            isActive: \"\"\n          });\n        } else {\n          this.setState({\n            count: res.votesLength,\n            isActiveDown: \"\"\n          });\n        }\n      });\n    };\n\n    this.state = {\n      count: 0,\n      isActive: \"\",\n      isActiveDown: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      count: this.props.data.votes.length - this.props.data.votesDown.length,\n      isActive: this.props.data.votes.indexOf(isAuthenticated().user._id) !== -1 ? \"active\" : \"\"\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          count = _this$state.count,\n          isActive = _this$state.isActive,\n          isActiveDown = _this$state.isActiveDown;\n    const ans = this.props.data;\n    return React.createElement(\"div\", {\n      className: \"answer mt16 mb16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-layout d-flex w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"votecell post-layout--left mr24\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"js-voting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"js-vote--up\",\n      onClick: this.handleAnswerVoteUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"svg-icon m0 iconArrowUpLg \".concat(isActive),\n      width: \"36\",\n      height: \"36\",\n      viewBox: \"0 0 36 36\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M2 26h32L18 10 2 26z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"vote-count\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, count), React.createElement(\"button\", {\n      className: \"js-vote--down\",\n      onClick: this.handleAnswerVoteDown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"svg-icon m0 iconArrowDownLg \".concat(isActiveDown),\n      width: \"36\",\n      height: \"36\",\n      viewBox: \"0 0 36 36\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M2 10h32L18 26 2 10z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"votecell post-layout--right w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-text md-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(ReactMarkdown, {\n      source: ans.body,\n      renderers: {\n        code: CodeBlock\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(UserInfo, {\n      username: ans.owner.email // userLocation=\"Bratislava, Slovakia\"\n      ,\n      userImage: ans.owner.photo,\n      userFullname: ans.owner.fullname,\n      userId: ans.owner._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default AnswerItem;","map":{"version":3,"sources":["/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/client/questions/AnswerItem.js"],"names":["React","UserInfo","ReactMarkdown","CodeBlock","isAuthenticated","voteAnswerUp","voteAnswerDown","AnswerItem","Component","constructor","handleAnswerVoteUp","ansId","props","data","_id","userId","user","token","then","res","message","setState","count","votesLength","isActive","isActiveDown","handleAnswerVoteDown","state","componentDidMount","votes","length","votesDown","indexOf","render","ans","body","code","owner","email","photo","fullname"],"mappings":"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","sourcesContent":["import React from 'react';\nimport UserInfo from '../users/UserInfo';\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from '../editor/CodeBlock';\nimport { isAuthenticated } from '../../controllers/userController';\nimport { voteAnswerUp, voteAnswerDown } from '../../controllers/voteController';\n\nclass AnswerItem extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0,\n            isActive: \"\", \n            isActiveDown: \"\"\n        }\n    }\n\n    componentDidMount() {\n        this.setState( {count: this.props.data.votes.length - this.props.data.votesDown.length, isActive: this.props.data.votes.indexOf(isAuthenticated().user._id) !== -1 ? \"active\" : \"\"} );\n    }\n\n    handleAnswerVoteUp = () => {\n        let ansId = this.props.data._id;\n        let userId = isAuthenticated().user._id;\n        let token = isAuthenticated().token;\n        voteAnswerUp(ansId, userId, token)\n        .then( res => {\n            if(res.message === \"Voted\") {\n                this.setState( {count: res.votesLength, isActive: \"active\", isActiveDown: \"\"} );\n            } else {\n                this.setState( {count: res.votesLength, isActive: \"\"} );\n            }\n        })\n    }\n\n    handleAnswerVoteDown = () => {\n        let ansId = this.props.data._id;\n        let userId = isAuthenticated().user._id;\n        let token = isAuthenticated().token;\n\n        voteAnswerDown(ansId, userId, token)\n        .then( res => {\n            if(res.message === \"Voted\") {\n                this.setState( {count: res.votesLength, isActiveDown: \"active\", isActive :\"\"} );\n            } else {\n                this.setState( {count: res.votesLength, isActiveDown: \"\"} );\n            }\n        })\n    }\n    \n    render() {\n        const { count, isActive, isActiveDown } = this.state;\n        const ans = this.props.data;\n        return (\n            <div className=\"answer mt16 mb16\">\n                <div className=\"post-layout d-flex w-100\">\n                    <div className=\"votecell post-layout--left mr24\">\n                        <div className=\"js-voting\">\n                            <button\n                                className=\"js-vote--up\"\n                                onClick={this.handleAnswerVoteUp}\n                            >\n                                <svg aria-hidden=\"true\" className={`svg-icon m0 iconArrowUpLg ${isActive}`} width=\"36\" height=\"36\" viewBox=\"0 0 36 36\"><path d=\"M2 26h32L18 10 2 26z\"></path></svg>\n                            </button>\n                            <div className=\"vote-count\">{count}</div>\n                            <button\n                                className=\"js-vote--down\"\n                                onClick={this.handleAnswerVoteDown}\n                            >\n                                <svg aria-hidden=\"true\" className={`svg-icon m0 iconArrowDownLg ${isActiveDown}`} width=\"36\" height=\"36\" viewBox=\"0 0 36 36\"><path d=\"M2 10h32L18 26 2 10z\"></path></svg>\n                            </button>\n                        </div>\n                    </div>\n                    <div className=\"votecell post-layout--right w-100\">\n                        <div className=\"post-text md-content\">\n                            <ReactMarkdown source={ans.body} renderers={{ code: CodeBlock }} />\n                        </div>\n                        <div className=\"d-flex justify-content-end\">\n                            <UserInfo\n                                username={ans.owner.email}\n                                // userLocation=\"Bratislava, Slovakia\"\n                                userImage={ans.owner.photo}\n                                userFullname={ans.owner.fullname}\n                                userId={ans.owner._id}\n                            />\n                        </div>\n                    \n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}   \n\nexport default AnswerItem;"]},"metadata":{},"sourceType":"module"}