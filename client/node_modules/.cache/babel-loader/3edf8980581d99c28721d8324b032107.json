{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/client/components/Header/FormSearch/FormSerach.js\";\nimport React from 'react';\nimport SearchPayload from './SerachPayload';\nimport { onSearchQuestions } from '../../../../controllers/askController';\nimport Notify from '../../Notify';\nimport { debounce } from '../../../../utilities/helper';\n\nclass FormSerach extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      toggleSearch: false,\n      questions: [],\n      message: \"\"\n    };\n\n    this.handleToggleSearch = () => {\n      let toggleSearch = this.state.toggleSearch;\n\n      if (!toggleSearch) {\n        document.querySelector(\".s-input\").style.display = \"block\";\n      } else {\n        document.querySelector(\".s-input\").style.display = \"none\";\n      }\n\n      this.setState(function (prevState, props) {\n        return {\n          toggleSearch: !prevState.toggleSearch\n        };\n      });\n    };\n\n    this.clearMess = mes => {\n      this.setState({\n        message: mes\n      });\n    };\n\n    this.handleSearch = async e => {\n      e.preventDefault();\n      let querySearch = document.getElementById(\"query-search\").value;\n\n      if (querySearch) {\n        const response = await onSearchQuestions(querySearch);\n        console.log(response);\n\n        if (response && !response.error) {\n          this.setState({\n            questions: response.payload,\n            message: response.message\n          });\n          document.getElementById(\"root\").addEventListener(\"click\", this.closeSearch);\n        }\n      }\n    };\n\n    this.closeSearch = () => {\n      this.setState({\n        questions: []\n      });\n      document.getElementById(\"root\").removeEventListener(\"click\", this.closeSearch);\n    };\n\n    this.onSearchChange = () => {\n      debounce(() => {\n        console.log(\"called\", 1000);\n      });\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          questions = _this$state.questions,\n          message = _this$state.message;\n    return React.createElement(\"form\", {\n      action: \"#search\",\n      onSubmit: this.handleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Notify, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), message !== \"\" && React.createElement(Notify, {\n      class: \"on\",\n      text: message,\n      clearMess: this.clearMess,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"ps-relative\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"q\",\n      placeholder: \"Search...\",\n      maxLength: \"240\",\n      className: \"s-input s-input__search js-search-field w-100\",\n      id: \"query-search\",\n      autoComplete: \"off\",\n      onChange: this.onSearchChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"svg-icon s-input-icon s-input-icon__search iconSearch\",\n      width: \"18\",\n      height: \"18\",\n      viewBox: \"0 0 18 18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"svg\", {\n      \"aria-hidden\": \"false\",\n      className: \"svg-icon s-input-icon s-input-icon__search iconSearch d-none\",\n      width: \"18\",\n      height: \"18\",\n      viewBox: \"0 0 18 18\",\n      onClick: this.handleToggleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(SearchPayload, {\n      questions: questions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default FormSerach;","map":{"version":3,"sources":["/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/client/components/Header/FormSearch/FormSerach.js"],"names":["React","SearchPayload","onSearchQuestions","Notify","debounce","FormSerach","Component","state","toggleSearch","questions","message","handleToggleSearch","document","querySelector","style","display","setState","prevState","props","clearMess","mes","handleSearch","e","preventDefault","querySearch","getElementById","value","response","console","log","error","payload","addEventListener","closeSearch","removeEventListener","onSearchChange","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,iBAAT,QAAkC,uCAAlC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,QAAT,QAAyB,8BAAzB;;AAEA,MAAMC,UAAN,SAAyBL,KAAK,CAACM,SAA/B,CAAyC;AAAA;AAAA;AAAA,SAErCC,KAFqC,GAE7B;AACJC,MAAAA,YAAY,EAAE,KADV;AAEJC,MAAAA,SAAS,EAAE,EAFP;AAGJC,MAAAA,OAAO,EAAE;AAHL,KAF6B;;AAAA,SAQrCC,kBARqC,GAQhB,MAAM;AAAA,UACjBH,YADiB,GACA,KAAKD,KADL,CACjBC,YADiB;;AAEvB,UAAI,CAACA,YAAL,EAAmB;AACfI,QAAAA,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,KAAnC,CAAyCC,OAAzC,GAAmD,OAAnD;AACH,OAFD,MAEO;AACHH,QAAAA,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,KAAnC,CAAyCC,OAAzC,GAAmD,MAAnD;AACH;;AAED,WAAKC,QAAL,CAAc,UAAUC,SAAV,EAAqBC,KAArB,EAA4B;AACtC,eAAO;AAAEV,UAAAA,YAAY,EAAE,CAACS,SAAS,CAACT;AAA3B,SAAP;AACH,OAFD;AAGH,KAnBoC;;AAAA,SAqBrCW,SArBqC,GAqBxBC,GAAD,IAAS;AACjB,WAAKJ,QAAL,CAAc;AAAEN,QAAAA,OAAO,EAAEU;AAAX,OAAd;AACH,KAvBoC;;AAAA,SA0BrCC,YA1BqC,GA0BtB,MAAOC,CAAP,IAAa;AACxBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,WAAW,GAAGZ,QAAQ,CAACa,cAAT,CAAwB,cAAxB,EAAwCC,KAA1D;;AACA,UAAIF,WAAJ,EAAiB;AACb,cAAMG,QAAQ,GAAG,MAAMzB,iBAAiB,CAACsB,WAAD,CAAxC;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,YAAIA,QAAQ,IAAI,CAACA,QAAQ,CAACG,KAA1B,EAAiC;AAC7B,eAAKd,QAAL,CAAc;AAAEP,YAAAA,SAAS,EAAEkB,QAAQ,CAACI,OAAtB;AAA+BrB,YAAAA,OAAO,EAAEiB,QAAQ,CAACjB;AAAjD,WAAd;AACAE,UAAAA,QAAQ,CAACa,cAAT,CAAwB,MAAxB,EAAgCO,gBAAhC,CAAiD,OAAjD,EAA0D,KAAKC,WAA/D;AACH;AACJ;AACJ,KArCoC;;AAAA,SAuCrCA,WAvCqC,GAuCvB,MAAM;AAChB,WAAKjB,QAAL,CAAc;AAAEP,QAAAA,SAAS,EAAE;AAAb,OAAd;AACAG,MAAAA,QAAQ,CAACa,cAAT,CAAwB,MAAxB,EAAgCS,mBAAhC,CAAoD,OAApD,EAA6D,KAAKD,WAAlE;AACH,KA1CoC;;AAAA,SA4CrCE,cA5CqC,GA4CpB,MAAM;AACnB/B,MAAAA,QAAQ,CAAC,MAAM;AACXwB,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,IAAtB;AACH,OAFO,CAAR;AAGH,KAhDoC;AAAA;;AAmDrCO,EAAAA,MAAM,GAAG;AAAA,wBAC0B,KAAK7B,KAD/B;AAAA,UACGE,SADH,eACGA,SADH;AAAA,UACcC,OADd,eACcA,OADd;AAEL,WACI;AAAM,MAAA,MAAM,EAAC,SAAb;AAAuB,MAAA,QAAQ,EAAE,KAAKW,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEKX,OAAO,KAAK,EAAZ,IAAkB,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAmB,MAAA,IAAI,EAAEA,OAAzB;AAAkC,MAAA,SAAS,EAAE,KAAKS,SAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFvB,EAGI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AACI,MAAA,IAAI,EAAC,MADT;AACgB,MAAA,IAAI,EAAC,GADrB;AACyB,MAAA,WAAW,EAAC,WADrC;AACiD,MAAA,SAAS,EAAC,KAD3D;AACiE,MAAA,SAAS,EAAC,+CAD3E;AAC2H,MAAA,EAAE,EAAC,cAD9H;AAC6I,MAAA,YAAY,EAAC,KAD1J;AAEI,MAAA,QAAQ,EAAE,KAAKgB,cAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAKI;AAAK,qBAAY,MAAjB;AAAwB,MAAA,SAAS,EAAC,uDAAlC;AAA0F,MAAA,KAAK,EAAC,IAAhG;AAAqG,MAAA,MAAM,EAAC,IAA5G;AAAiH,MAAA,OAAO,EAAC,WAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqI;AAAM,MAAA,CAAC,EAAC,sGAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArI,CALJ,EAMI;AACI,qBAAY,OADhB;AACwB,MAAA,SAAS,EAAC,8DADlC;AACiG,MAAA,KAAK,EAAC,IADvG;AAC4G,MAAA,MAAM,EAAC,IADnH;AACwH,MAAA,OAAO,EAAC,WADhI;AAEI,MAAA,OAAO,EAAE,KAAKxB,kBAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAII;AAAM,MAAA,CAAC,EAAC,sGAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CANJ,EAaI,oBAAC,aAAD;AAAe,MAAA,SAAS,EAAEF,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbJ,CAHJ,CADJ;AAqBH;;AA1EoC;;AA6EzC,eAAeJ,UAAf","sourcesContent":["import React from 'react';\n\nimport SearchPayload from './SerachPayload';\nimport { onSearchQuestions } from '../../../../controllers/askController';\nimport Notify from '../../Notify';\nimport { debounce } from '../../../../utilities/helper';\n\nclass FormSerach extends React.Component {\n\n    state = {\n        toggleSearch: false,\n        questions: [],\n        message: \"\"\n    }\n\n    handleToggleSearch = () => {\n        let { toggleSearch } = this.state;\n        if (!toggleSearch) {\n            document.querySelector(\".s-input\").style.display = \"block\";\n        } else {\n            document.querySelector(\".s-input\").style.display = \"none\";\n        }\n\n        this.setState(function (prevState, props) {\n            return { toggleSearch: !prevState.toggleSearch }\n        })\n    }\n\n    clearMess = (mes) => {\n        this.setState({ message: mes });\n    }\n\n\n    handleSearch = async (e) => {\n        e.preventDefault();\n        let querySearch = document.getElementById(\"query-search\").value;\n        if (querySearch) {\n            const response = await onSearchQuestions(querySearch);\n            console.log(response)\n            if (response && !response.error) {\n                this.setState({ questions: response.payload, message: response.message })\n                document.getElementById(\"root\").addEventListener(\"click\", this.closeSearch)\n            }\n        }\n    }\n\n    closeSearch = () => {\n        this.setState({ questions: [] })\n        document.getElementById(\"root\").removeEventListener(\"click\", this.closeSearch)\n    }\n\n    onSearchChange = () => {\n        debounce(() => {\n            console.log(\"called\", 1000)\n        })\n    }\n\n\n    render() {\n        const { questions, message } = this.state;\n        return (\n            <form action=\"#search\" onSubmit={this.handleSearch}>\n                <Notify />\n                {message !== \"\" && <Notify class=\"on\" text={message} clearMess={this.clearMess} />}\n                <div className=\"ps-relative\">\n                    <input\n                        type=\"text\" name=\"q\" placeholder=\"Search...\" maxLength=\"240\" className=\"s-input s-input__search js-search-field w-100\" id=\"query-search\" autoComplete=\"off\"\n                        onChange={this.onSearchChange}\n                    />\n                    <svg aria-hidden=\"true\" className=\"svg-icon s-input-icon s-input-icon__search iconSearch\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\"><path d=\"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\"></path></svg>\n                    <svg\n                        aria-hidden=\"false\" className=\"svg-icon s-input-icon s-input-icon__search iconSearch d-none\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\"\n                        onClick={this.handleToggleSearch}\n                    >\n                        <path d=\"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\"></path>\n                    </svg>\n                    \n                    <SearchPayload questions={questions} />\n                </div>\n            </form>\n        )\n    }\n}\n\nexport default FormSerach;"]},"metadata":{},"sourceType":"module"}