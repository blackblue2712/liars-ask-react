{"ast":null,"code":"import _regeneratorRuntime from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import moment from'moment';import{Link}from'react-router-dom';import'./QuestionsComponent.css';import Post from'./Post';import Sidebar from'../components/Sidebar';import AskAQuestion from'../components/AskAQuestion';import{getSingleQuestion}from'../../controllers/askController';import AnswerItem from'./AnswerItem';import YourAnswer from'./YourAnswer';import SkeletonQues from'../components/SkeletonQues';var QuestionsComponent=/*#__PURE__*/function(_Component){_inherits(QuestionsComponent,_Component);function QuestionsComponent(){var _this;_classCallCheck(this,QuestionsComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(QuestionsComponent).call(this));_this.handleAddAnswer=function(ans){_this.setState({answersArr:[].concat(_toConsumableArray(_this.state.answersArr),[ans])});};_this.state={ques:null,answersArr:[]};return _this;}_createClass(QuestionsComponent,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getSingleQuestion(this.props.match.params.quesId);case 2:data=_context.sent;if(!data.message){this.setState({ques:data,answersArr:data.answers});}else{this.props.history.push(\"/404\");}case 4:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,ques=_this$state.ques,answersArr=_this$state.answersArr;if(!ques){return React.createElement(SkeletonQues,null);}else{return React.createElement(\"div\",{id:\"content\"},React.createElement(\"div\",{id:\"mainbar\"},React.createElement(\"div\",{className:\"main-head\"},React.createElement(\"div\",{className:\"grid d-flex align-items-centers mb16\"},React.createElement(\"h1\",{className:\"fs-headline1 mr-auto\"},ques.title),React.createElement(\"div\",{className:\"s-btn-group ml20\"},React.createElement(AskAQuestion,null))),React.createElement(\"div\",{className:\"d-flex algin-items-center f13 bc-black-2 bb pb8\"},React.createElement(\"div\",{className:\"mb8 mr16\"},React.createElement(\"span\",{className:\"fc-light mr2\"},\"Asked\"),React.createElement(\"time\",null,moment(ques.created).fromNow())),React.createElement(\"div\",{className:\"mb8 mr16\"},React.createElement(\"span\",{className:\"fc-light mr2\"},\"By\"),React.createElement(Link,{to:\"/users/\".concat(ques.owner._id)},ques.owner.email)))),React.createElement(\"div\",{id:\"questbar\"},React.createElement(\"div\",{className:\"question\",id:\"id-question\"},React.createElement(Post,{data:ques}))),React.createElement(\"div\",{id:\"answers\",className:\"mt24\"},React.createElement(\"div\",{className:\"answers-header\"},React.createElement(\"h2\",{className:\"fs-count-answer\"},answersArr.length,\" Answers\")),React.createElement(\"div\",{id:\"list-answers\"},answersArr.map(function(ans,i){return React.createElement(AnswerItem,{data:ans,key:i});})),React.createElement(YourAnswer,{addAnswer:this.handleAddAnswer}))),React.createElement(Sidebar,null),React.createElement(\"div\",{className:\"clear-fix\"}));}}}]);return QuestionsComponent;}(Component);export default QuestionsComponent;","map":{"version":3,"sources":["/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/client/questions/SingleQuestion.js"],"names":["React","Component","moment","Link","Post","Sidebar","AskAQuestion","getSingleQuestion","AnswerItem","YourAnswer","SkeletonQues","QuestionsComponent","handleAddAnswer","ans","setState","answersArr","state","ques","props","match","params","quesId","data","message","answers","history","push","title","created","fromNow","owner","_id","email","length","map","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\n\nimport './QuestionsComponent.css';\nimport Post from './Post';\nimport Sidebar from '../components/Sidebar';\nimport AskAQuestion from '../components/AskAQuestion';\nimport { getSingleQuestion } from '../../controllers/askController';\nimport AnswerItem from './AnswerItem';\nimport YourAnswer from './YourAnswer';\nimport SkeletonQues from '../components/SkeletonQues';\n\nclass QuestionsComponent extends Component {\n    constructor() {\n        super();\n        this.state = {\n            ques: null,\n            answersArr: []\n        }\n    }\n\n    async componentDidMount() {\n        const data = await getSingleQuestion(this.props.match.params.quesId);\n        if(!data.message) {\n            this.setState( {ques: data, answersArr: data.answers} );\n        } else {\n            this.props.history.push(\"/404\");\n        }\n    }\n\n    handleAddAnswer = (ans) => {\n        this.setState( {answersArr: [...this.state.answersArr, ans]} );\n    }\n\n    render() {\n        let { ques, answersArr } = this.state;\n        if(!ques) {\n            return <SkeletonQues />\n        } else {\n            return (\n                <div id=\"content\">\n                    <div id=\"mainbar\">\n    \n                        <div className=\"main-head\">\n                            <div className=\"grid d-flex align-items-centers mb16\">\n                                <h1 className=\"fs-headline1 mr-auto\">{ques.title}</h1>\n                                <div className=\"s-btn-group ml20\">\n                                    <AskAQuestion />\n                                </div>\n                            </div>\n    \n                            <div className=\"d-flex algin-items-center f13 bc-black-2 bb pb8\">\n                                <div className=\"mb8 mr16\">\n                                    <span className=\"fc-light mr2\">Asked</span>\n                                    <time>{moment(ques.created).fromNow()}</time>\n                                </div>\n                                {/* <div className=\"mb8 mr16\">\n                                    <span className=\"fc-light mr2\">Asked</span>\n                                    <a href=\"?lastactivity\" className=\"s-link s-link__inherit\" title=\"2019-09-24 15:23:18Z\">today</a>\n                                </div> */}\n                                <div className=\"mb8 mr16\">\n                                    <span className=\"fc-light mr2\">By</span>        \n                                    <Link to={`/users/${ques.owner._id}`}>{ques.owner.email}</Link>\n                                </div>\n                            </div>\n                        </div>\n    \n                        <div id=\"questbar\">\n                            <div className=\"question\" id=\"id-question\">\n                                <Post\n                                    data={ques}\n                                />\n                            </div>\n                        </div>\n                        \n                        <div id=\"answers\" className=\"mt24\">\n                            <div className=\"answers-header\">\n                                <h2 className=\"fs-count-answer\">{answersArr.length} Answers</h2>\n                                \n                            </div>\n                            <div id=\"list-answers\">\n                                {\n                                    answersArr.map( (ans, i) => {\n                                        return <AnswerItem data={ans} key={i}/>\n                                    })\n                                }\n                            </div>\n    \n                            {/* YOUR ANSWER */}\n                            <YourAnswer addAnswer={this.handleAddAnswer} />\n                            \n                        </div>\n    \n                        \n                    </div>\n    \n                    <Sidebar />\n                    <div className=\"clear-fix\"></div>\n                </div>\n            )\n        }\n    }\n}\n\nexport default QuestionsComponent;"]},"metadata":{},"sourceType":"module"}