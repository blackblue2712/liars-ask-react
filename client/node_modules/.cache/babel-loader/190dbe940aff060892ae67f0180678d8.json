{"ast":null,"code":"import _classCallCheck from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import UserInfo from'./UserInfo';import DebounceFind from'./DebounceFind';import{findUser,getPrivileges,isAuthenticated,adminGetUsers}from\"../../controllers/userController\";var TagsComponent=/*#__PURE__*/function(_Component){_inherits(TagsComponent,_Component);function TagsComponent(){var _this;_classCallCheck(this,TagsComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(TagsComponent).call(this));_this.handleSearchUser=function(text){var uid=isAuthenticated().user._id;findUser(text,uid).then(function(res){if(!res.message){_this.setState({users:res});}});};_this.state={users:[],pris:[],message:\"\"};return _this;}_createClass(TagsComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Promise.all([getPrivileges()// adminGetUsers(uid)\n]).then(function(res){_this2.setState({pris:res[0]});}).catch(function(err){alert(\"can not get privileges\");});// let users = await adminGetUsers(uid);\n// let pris = await getPrivileges();\n// this.setState( {users, pris} );\n}},{key:\"render\",value:function render(){var _this$state=this.state,users=_this$state.users,pris=_this$state.pris,message=_this$state.message;return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"main-head\"},React.createElement(\"div\",{className:\"grid d-flex align-items-centers mb16\"},React.createElement(\"h1\",{className:\"fs-headline1 mr-auto\"},\"Users\")),React.createElement(\"p\",{className:\"mb24 f13 fw350\"},\"Find users for ...\"),React.createElement(\"div\",{className:\"grid-ai grid-tags mb16 d-flex align-items-center\"},React.createElement(\"div\",{className:\"ps-relative mr-auto\"},React.createElement(DebounceFind,{handleSearchUser:this.handleSearchUser}),React.createElement(\"svg\",{\"aria-hidden\":\"true\",className:\"svg-icon s-input-icon s-input-icon__search iconSearch\",width:\"18\",height:\"18\",viewBox:\"0 0 18 18\"},React.createElement(\"path\",{d:\"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\"}))),React.createElement(\"div\",{className:\"s-btn-group\"},React.createElement(\"a\",{href:\"#popular\",className:\"s-btn s-btn__outline s-btn__primary\"},\"Reputation\"),React.createElement(\"a\",{href:\"#popular\",className:\"s-btn s-btn__outline s-btn__primary\"},\"New users\"),React.createElement(\"a\",{href:\"#popular\",className:\"s-btn s-btn__outline s-btn__primary\"},\"Voters\"),React.createElement(\"a\",{href:\"#popular\",className:\"s-btn s-btn__outline s-btn__primary\"},\"Editors\"),React.createElement(\"a\",{href:\"#popular\",className:\"s-btn s-btn__outline s-btn__primary\"},\"Moderators\")))),React.createElement(\"div\",{id:\"tags-list\"},React.createElement(\"div\",{id:\"tags-browser\"},users&&users.length>0?users.map(function(user,i){return React.createElement(UserInfo,{key:i,userIf:user,pris:pris});}):\"No user found\")));}}]);return TagsComponent;}(Component);export default TagsComponent;","map":{"version":3,"sources":["/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/admin/users/UsersComponent.js"],"names":["React","Component","UserInfo","DebounceFind","findUser","getPrivileges","isAuthenticated","adminGetUsers","TagsComponent","handleSearchUser","text","uid","user","_id","then","res","message","setState","users","state","pris","Promise","all","catch","err","alert","length","map","i"],"mappings":"i6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,QAAT,CAAmBC,aAAnB,CAAkCC,eAAlC,CAAmDC,aAAnD,KAAwE,kCAAxE,C,GAGMC,CAAAA,a,uEAEF,wBAAc,+CACV,iFADU,MA0BdC,gBA1Bc,CA0BK,SAACC,IAAD,CAAU,CACzB,GAAIC,CAAAA,GAAG,CAAGL,eAAe,GAAGM,IAAlB,CAAuBC,GAAjC,CACAT,QAAQ,CAACM,IAAD,CAAOC,GAAP,CAAR,CACCG,IADD,CACO,SAAAC,GAAG,CAAI,CACV,GAAG,CAACA,GAAG,CAACC,OAAR,CAAiB,CACb,MAAKC,QAAL,CAAe,CAACC,KAAK,CAAEH,GAAR,CAAf,EACH,CACJ,CALD,EAMH,CAlCa,CAEV,MAAKI,KAAL,CAAa,CACTD,KAAK,CAAE,EADE,CAETE,IAAI,CAAE,EAFG,CAGTJ,OAAO,CAAE,EAHA,CAAb,CAFU,aAOb,C,uFAEmB,iBAChBK,OAAO,CAACC,GAAR,CAAY,CACRjB,aAAa,EACb;AAFQ,CAAZ,EAICS,IAJD,CAIO,SAAAC,GAAG,CAAI,CACV,MAAI,CAACE,QAAL,CAAe,CAACG,IAAI,CAAEL,GAAG,CAAC,CAAD,CAAV,CAAf,EACH,CAND,EAOCQ,KAPD,CAOQ,SAAAC,GAAG,CAAI,CACXC,KAAK,CAAC,wBAAD,CAAL,CACH,CATD,EAWA;AACA;AACA;AACH,C,uCAcQ,iBAC4B,KAAKN,KADjC,CACGD,KADH,aACGA,KADH,CACUE,IADV,aACUA,IADV,CACgBJ,OADhB,aACgBA,OADhB,CAEL,MACI,yCACI,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,sCAAf,EACI,0BAAI,SAAS,CAAC,sBAAd,UADJ,CADJ,CAII,yBAAG,SAAS,CAAC,gBAAb,uBAJJ,CAKI,2BAAK,SAAS,CAAC,kDAAf,EACI,2BAAK,SAAS,CAAC,qBAAf,EACI,oBAAC,YAAD,EAAc,gBAAgB,CAAE,KAAKP,gBAArC,EADJ,CAEI,2BAAK,cAAY,MAAjB,CAAwB,SAAS,CAAC,uDAAlC,CAA0F,KAAK,CAAC,IAAhG,CAAqG,MAAM,CAAC,IAA5G,CAAiH,OAAO,CAAC,WAAzH,EAAqI,4BAAM,CAAC,CAAC,sGAAR,EAArI,CAFJ,CADJ,CAKI,2BAAK,SAAS,CAAC,aAAf,EACI,yBAAG,IAAI,CAAC,UAAR,CAAmB,SAAS,CAAC,qCAA7B,eADJ,CAEI,yBAAG,IAAI,CAAC,UAAR,CAAmB,SAAS,CAAC,qCAA7B,cAFJ,CAGI,yBAAG,IAAI,CAAC,UAAR,CAAmB,SAAS,CAAC,qCAA7B,WAHJ,CAII,yBAAG,IAAI,CAAC,UAAR,CAAmB,SAAS,CAAC,qCAA7B,YAJJ,CAKI,yBAAG,IAAI,CAAC,UAAR,CAAmB,SAAS,CAAC,qCAA7B,eALJ,CALJ,CALJ,CADJ,CAqBI,2BAAK,EAAE,CAAC,WAAR,EACI,2BAAK,EAAE,CAAC,cAAR,EAEQS,KAAK,EAAIA,KAAK,CAACQ,MAAN,CAAe,CAAxB,CACIR,KAAK,CAACS,GAAN,CAAY,SAACf,IAAD,CAAOgB,CAAP,CAAa,CACrB,MAAO,qBAAC,QAAD,EACH,GAAG,CAAEA,CADF,CAEH,MAAM,CAAEhB,IAFL,CAGH,IAAI,CAAEQ,IAHH,EAAP,CAKH,CAND,CADJ,CAQE,eAVV,CADJ,CArBJ,CADJ,CAwCH,C,2BAlFuBnB,S,EAqF5B,cAAeO,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport UserInfo from './UserInfo';\nimport DebounceFind from './DebounceFind';\nimport { findUser, getPrivileges, isAuthenticated, adminGetUsers } from \"../../controllers/userController\"\n\n\nclass TagsComponent extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            users: [],\n            pris: [],\n            message: \"\"\n        }\n    }\n\n    componentDidMount() {\n        Promise.all([\n            getPrivileges(),\n            // adminGetUsers(uid)\n        ])\n        .then( res => {\n            this.setState( {pris: res[0]} );\n        })\n        .catch( err => {\n            alert(\"can not get privileges\");\n        })\n\n        // let users = await adminGetUsers(uid);\n        // let pris = await getPrivileges();\n        // this.setState( {users, pris} );\n    }\n\n    handleSearchUser = (text) => {\n        let uid = isAuthenticated().user._id;\n        findUser(text, uid)\n        .then( res => {\n            if(!res.message) {\n                this.setState( {users: res} )\n            }\n        })\n    }\n\n\n\n    render() {\n        const { users, pris, message } = this.state;\n        return (\n            <>\n                <div className=\"main-head\">\n                    <div className=\"grid d-flex align-items-centers mb16\">\n                        <h1 className=\"fs-headline1 mr-auto\">Users</h1>\n                    </div>\n                    <p className=\"mb24 f13 fw350\">Find users for ...</p>\n                    <div className=\"grid-ai grid-tags mb16 d-flex align-items-center\">\n                        <div className=\"ps-relative mr-auto\">\n                            <DebounceFind handleSearchUser={this.handleSearchUser} />\n                            <svg aria-hidden=\"true\" className=\"svg-icon s-input-icon s-input-icon__search iconSearch\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\"><path d=\"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\"></path></svg>\n                        </div>\n                        <div className=\"s-btn-group\">\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">Reputation</a>\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">New users</a>\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">Voters</a>\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">Editors</a>\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">Moderators</a>\n                        </div>\n                    </div>\n                </div>\n\n                <div id=\"tags-list\">\n                    <div id=\"tags-browser\">\n                        {\n                            users && users.length > 0 ? \n                                users.map ( (user, i) => {\n                                    return <UserInfo\n                                        key={i}\n                                        userIf={user}\n                                        pris={pris}\n                                    />   \n                                })\n                            : \"No user found\"\n                        }\n                        \n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nexport default TagsComponent;"]},"metadata":{},"sourceType":"module"}