{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/client/questions/AnswerItem.js\";\nimport React from 'react';\nimport UserInfo from '../users/UserInfo';\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from '../editor/CodeBlock';\nimport { isAuthenticated } from '../../controllers/userController';\nimport { voteAnswerUp } from '../../controllers/voteController';\n\nclass AnswerItem extends React.Component {\n  constructor() {\n    super();\n\n    this.handleAnswerVoteUp = () => {\n      let ansId = this.props.data._id;\n\n      let userId = isAuthenticated().user._id;\n\n      let token = isAuthenticated().token;\n      voteAnswerUp(ansId, userId, token).then(res => {\n        if (res.message === \"Voted\") {\n          this.setState({\n            count: res.votesLength,\n            isActive: \"active\"\n          });\n        } else {\n          this.setState({\n            count: res.votesLength,\n            isActive: \"\"\n          });\n        }\n      });\n    };\n\n    this.state = {\n      count: 0,\n      isActive: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      count: this.props.data.votes.length,\n      isActive: this.props.data.votes.indexOf(isAuthenticated().user._id) !== -1 ? \"active\" : \"\"\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          count = _this$state.count,\n          isActive = _this$state.isActive;\n    const ans = this.props.data;\n    return React.createElement(\"div\", {\n      className: \"answer mt16 mb16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-layout d-flex w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"votecell post-layout--left mr24\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"js-voting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"js-vote--up\",\n      onClick: this.handleAnswerVoteUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"svg-icon m0 iconArrowUpLg \".concat(isActive),\n      width: \"36\",\n      height: \"36\",\n      viewBox: \"0 0 36 36\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M2 26h32L18 10 2 26z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"vote-count\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, count), React.createElement(\"button\", {\n      className: \"js-vote--down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"svg-icon m0 iconArrowDownLg\",\n      width: \"36\",\n      height: \"36\",\n      viewBox: \"0 0 36 36\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M2 10h32L18 26 2 10z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"votecell post-layout--right w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-text md-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(ReactMarkdown, {\n      source: ans.body,\n      renderers: {\n        code: CodeBlock\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(UserInfo, {\n      username: ans.owner.email // userLocation=\"Bratislava, Slovakia\"\n      ,\n      userImage: ans.owner.photo,\n      userFullname: ans.owner.fullname,\n      userId: ans.owner._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default AnswerItem;","map":{"version":3,"sources":["/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/client/questions/AnswerItem.js"],"names":["React","UserInfo","ReactMarkdown","CodeBlock","isAuthenticated","voteAnswerUp","AnswerItem","Component","constructor","handleAnswerVoteUp","ansId","props","data","_id","userId","user","token","then","res","message","setState","count","votesLength","isActive","state","componentDidMount","votes","length","indexOf","render","ans","body","code","owner","email","photo","fullname"],"mappings":"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","sourcesContent":["import React from 'react';\nimport UserInfo from '../users/UserInfo';\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from '../editor/CodeBlock';\nimport { isAuthenticated } from '../../controllers/userController';\nimport { voteAnswerUp } from '../../controllers/voteController';\n\nclass AnswerItem extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0,\n            isActive: \"\"\n        }\n    }\n\n    componentDidMount() {\n        this.setState( {count: this.props.data.votes.length, isActive: this.props.data.votes.indexOf(isAuthenticated().user._id) !== -1 ? \"active\" : \"\"} );\n    }\n\n    handleAnswerVoteUp = () => {\n        let ansId = this.props.data._id;\n        let userId = isAuthenticated().user._id;\n        let token = isAuthenticated().token;\n        voteAnswerUp(ansId, userId, token)\n        .then( res => {\n            if(res.message === \"Voted\") {\n                this.setState( {count: res.votesLength, isActive: \"active\"} );\n            } else {\n                this.setState( {count: res.votesLength, isActive: \"\"} );\n            }\n        })\n    }\n    \n    render() {\n        const { count, isActive } = this.state;\n        const ans = this.props.data;\n        return (\n            <div className=\"answer mt16 mb16\">\n                <div className=\"post-layout d-flex w-100\">\n                    <div className=\"votecell post-layout--left mr24\">\n                        <div className=\"js-voting\">\n                            <button\n                                className=\"js-vote--up\"\n                                onClick={this.handleAnswerVoteUp}\n                            >\n                                <svg aria-hidden=\"true\" className={`svg-icon m0 iconArrowUpLg ${isActive}`} width=\"36\" height=\"36\" viewBox=\"0 0 36 36\"><path d=\"M2 26h32L18 10 2 26z\"></path></svg>\n                            </button>\n                            <div className=\"vote-count\">{count}</div>\n                            <button className=\"js-vote--down\">\n                                <svg aria-hidden=\"true\" className=\"svg-icon m0 iconArrowDownLg\" width=\"36\" height=\"36\" viewBox=\"0 0 36 36\"><path d=\"M2 10h32L18 26 2 10z\"></path></svg>\n                            </button>\n                        </div>\n                    </div>\n                    <div className=\"votecell post-layout--right w-100\">\n                        <div className=\"post-text md-content\">\n                            <ReactMarkdown source={ans.body} renderers={{ code: CodeBlock }} />\n                        </div>\n                        <div className=\"d-flex justify-content-end\">\n                            <UserInfo\n                                username={ans.owner.email}\n                                // userLocation=\"Bratislava, Slovakia\"\n                                userImage={ans.owner.photo}\n                                userFullname={ans.owner.fullname}\n                                userId={ans.owner._id}\n                            />\n                        </div>\n                    \n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}   \n\nexport default AnswerItem;"]},"metadata":{},"sourceType":"module"}