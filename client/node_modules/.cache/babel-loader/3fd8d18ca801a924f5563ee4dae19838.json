{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/client/questions/AnswerItem.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport UserInfo from '../users/UserInfo';\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from '../editor/CodeBlock';\nimport { isAuthenticated } from '../../controllers/userController';\nimport { voteAnswerUp } from '../../controllers/voteController';\n\nclass AnswerItem extends React.Component {\n  constructor() {\n    super();\n\n    this.handleAnswerVoteUp = () => {\n      if (!isAuthenticated()) {\n        return this.props.history(\"/auth\");\n      }\n\n      let ansId = this.props.data._id;\n\n      let userId = isAuthenticated().user._id;\n\n      let token = isAuthenticated().token;\n      voteAnswerUp(ansId, userId, token).then(res => {\n        console.log(res);\n\n        if (res.message === \"Voted\") {\n          this.setState({\n            count: res.votesLength,\n            active: \"active\"\n          });\n        } else if (res.message === \"Unvoted\") {\n          this.setState({\n            count: res.votesLength,\n            active: \"\"\n          });\n        }\n      });\n    };\n\n    this.state = {\n      count: 0,\n      active: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      count: this.props.data.votes.length\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          count = _this$state.count,\n          active = _this$state.active;\n    const ans = this.props.data;\n    const isActive = \"\";\n\n    if (isAuthenticated()) {\n      isActive = this.props.data.votes.indexOf(isAuthenticated().user._id) !== -1 ? \"active\" : \"\";\n    }\n\n    return React.createElement(\"div\", {\n      className: \"answer mt16 mb16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-layout d-flex w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"votecell post-layout--left mr24\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"js-voting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"js-vote--up\",\n      onClick: this.handleAnswerVoteUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"svg-icon m0 iconArrowUpLg \".concat(isActive, \" \").concat(active),\n      width: \"36\",\n      height: \"36\",\n      viewBox: \"0 0 36 36\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M2 26h32L18 10 2 26z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"vote-count\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, count))), React.createElement(\"div\", {\n      className: \"votecell post-layout--right w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-text md-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(ReactMarkdown, {\n      source: ans.body,\n      renderers: {\n        code: CodeBlock\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(UserInfo, {\n      username: ans.owner.email // userLocation=\"Bratislava, Slovakia\"\n      ,\n      userImage: ans.owner.photo,\n      userFullname: ans.owner.fullname,\n      userId: ans.owner._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default withRouter(AnswerItem);","map":{"version":3,"sources":["/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/client/questions/AnswerItem.js"],"names":["React","withRouter","UserInfo","ReactMarkdown","CodeBlock","isAuthenticated","voteAnswerUp","AnswerItem","Component","constructor","handleAnswerVoteUp","props","history","ansId","data","_id","userId","user","token","then","res","console","log","message","setState","count","votesLength","active","state","componentDidMount","votes","length","render","ans","isActive","indexOf","body","code","owner","email","photo","fullname"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport UserInfo from '../users/UserInfo';\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from '../editor/CodeBlock';\nimport { isAuthenticated } from '../../controllers/userController';\nimport { voteAnswerUp } from '../../controllers/voteController';\n\nclass AnswerItem extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            count: 0,\n            active: ''\n        }\n    }\n\n    componentDidMount() {\n        this.setState( {count: this.props.data.votes.length} );\n    }\n\n    handleAnswerVoteUp = () => {\n        if(!isAuthenticated()) {\n            return this.props.history(\"/auth\");\n        }\n        let ansId = this.props.data._id;\n        let userId = isAuthenticated().user._id;\n        let token = isAuthenticated().token;\n        voteAnswerUp(ansId, userId, token)\n        .then( res => {\n            console.log(res);\n            if(res.message === \"Voted\") {\n                this.setState( {count: res.votesLength, active: \"active\"} );\n            } else if(res.message === \"Unvoted\") {\n                this.setState( {count: res.votesLength, active: \"\"} );\n            }\n        })\n    }\n    \n    render() {\n        const { count, active } = this.state;\n        const ans = this.props.data;\n        const isActive = \"\";\n        if(isAuthenticated()) {\n            isActive = this.props.data.votes.indexOf(isAuthenticated().user._id) !== -1 ? \"active\" : \"\";\n        }\n        return (\n            <div className=\"answer mt16 mb16\">\n                <div className=\"post-layout d-flex w-100\">\n                    <div className=\"votecell post-layout--left mr24\">\n                        <div className=\"js-voting\">\n                            <button\n                                className=\"js-vote--up\"\n                                onClick={this.handleAnswerVoteUp}\n                            >\n                                <svg aria-hidden=\"true\" className={`svg-icon m0 iconArrowUpLg ${isActive} ${active}`} width=\"36\" height=\"36\" viewBox=\"0 0 36 36\"><path d=\"M2 26h32L18 10 2 26z\"></path></svg>\n                            </button>\n                            <div className=\"vote-count\">{count}</div>\n                            {/* <button className=\"js-vote--down\">\n                                <svg aria-hidden=\"true\" className=\"svg-icon m0 iconArrowDownLg\" width=\"36\" height=\"36\" viewBox=\"0 0 36 36\"><path d=\"M2 10h32L18 26 2 10z\"></path></svg>\n                            </button> */}\n                        </div>\n                    </div>\n                    <div className=\"votecell post-layout--right w-100\">\n                        <div className=\"post-text md-content\">\n                            <ReactMarkdown source={ans.body} renderers={{ code: CodeBlock }} />\n                        </div>\n                        <div className=\"d-flex justify-content-end\">\n                            <UserInfo\n                                username={ans.owner.email}\n                                // userLocation=\"Bratislava, Slovakia\"\n                                userImage={ans.owner.photo}\n                                userFullname={ans.owner.fullname}\n                                userId={ans.owner._id}\n                            />\n                        </div>\n                    \n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}   \n\nexport default withRouter(AnswerItem);"]},"metadata":{},"sourceType":"module"}