{"ast":null,"code":"import _classCallCheck from\"/opt/lampp/htdocs/Cloud/liars-ask-react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/Cloud/liars-ask-react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/opt/lampp/htdocs/Cloud/liars-ask-react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/opt/lampp/htdocs/Cloud/liars-ask-react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/opt/lampp/htdocs/Cloud/liars-ask-react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Sidebar from'../components/Sidebar';import{getAnnouncements}from'../../controllers/announcementController';import Notify from'../components/Notify';import ListWrapper from'./ListWrapper';import{isAuthenticated}from'../../controllers/userController';// const [acms, setAcms] = useState([]);\n// const [showNotify, setShowNotify] = useState(\"\");\n// useEffect( async () => {\n//     const data = await getAnnouncements();\n//     if(data.payload) {\n//         setAcms(data.payload);\n//     }\n//     setShowNotify(data.message);\n// });\nvar Announcement=/*#__PURE__*/function(_React$Component){_inherits(Announcement,_React$Component);function Announcement(){var _this;_classCallCheck(this,Announcement);_this=_possibleConstructorReturn(this,_getPrototypeOf(Announcement).call(this));_this.clearMess=function(){_this.setState({message:\"\"});};_this.state={acms:[],message:\"\"};return _this;}_createClass(Announcement,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;getAnnouncements(isAuthenticated().user._id).then(function(res){if(res.payload){_this2.setState({acms:res.payload,message:res.message});}else{_this2.setState({message:res.message});}});}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){return nextState.acms!==this.state.acms;}},{key:\"render\",value:function render(){var _this$state=this.state,message=_this$state.message,acms=_this$state.acms;return React.createElement(\"div\",{id:\"content\"},React.createElement(\"div\",{id:\"mainbar\"},React.createElement(\"div\",{className:\"main-head\"},React.createElement(Notify,null),message!==\"\"&&React.createElement(Notify,{class:\"on\",text:message,clearMess:this.clearMess}),React.createElement(\"div\",{className:\"grid d-flex align-items-centers mb16\"},React.createElement(\"h1\",{className:\"fs-headline1 mr-auto\"},\"What news?\")),React.createElement(\"p\",{className:\"mb24 f13 fw350\"})),React.createElement(ListWrapper,{data:acms}),React.createElement(\"div\",{className:\"clear-fix\"}),React.createElement(\"div\",{className:\"nearfooter\",style:{padding:\"40px 0px\"}},React.createElement(\"p\",null,\"Looking for more? Browse\",React.createElement(\"a\",{style:{color:\"#3af\"},href:\"#a\"},\" the complete list of questions\"),\", or\",React.createElement(\"a\",{style:{color:\"#3af\"},href:\"#a\"},\" popular tags \"),\".Help us answer\",React.createElement(\"a\",{style:{color:\"#3af\"},href:\"#a\"},\" unanswered questions\"),\".\"))),React.createElement(Sidebar,null),React.createElement(\"div\",{className:\"clear-fix\"}));}}]);return Announcement;}(React.Component);export default Announcement;","map":{"version":3,"sources":["/opt/lampp/htdocs/Cloud/liars-ask-react-deploy/src/client/announcements/announcements.js"],"names":["React","Sidebar","getAnnouncements","Notify","ListWrapper","isAuthenticated","Announcement","clearMess","setState","message","state","acms","user","_id","then","res","payload","nextProps","nextState","padding","color","Component"],"mappings":"u0BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,OAASC,gBAAT,KAAiC,0CAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAASC,eAAT,KAAgC,kCAAhC,CACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;GAEMC,CAAAA,Y,kFACF,uBAAc,8CACV,gFADU,MAQdC,SARc,CAQF,UAAM,CACd,MAAKC,QAAL,CAAe,CAACC,OAAO,CAAE,EAAV,CAAf,EACH,CAVa,CAEV,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAETF,OAAO,CAAE,EAFA,CAAb,CAFU,aAMb,C,sFAMmB,iBAChBP,gBAAgB,CAACG,eAAe,GAAGO,IAAlB,CAAuBC,GAAxB,CAAhB,CACCC,IADD,CACO,SAAAC,GAAG,CAAI,CACV,GAAGA,GAAG,CAACC,OAAP,CAAgB,CACZ,MAAI,CAACR,QAAL,CAAe,CAACG,IAAI,CAAEI,GAAG,CAACC,OAAX,CAAoBP,OAAO,CAAEM,GAAG,CAACN,OAAjC,CAAf,EACH,CAFD,IAEO,CACH,MAAI,CAACD,QAAL,CAAe,CAACC,OAAO,CAAEM,GAAG,CAACN,OAAd,CAAf,EACH,CACJ,CAPD,EAQH,C,oEAEqBQ,S,CAAWC,S,CAAW,CACxC,MAAOA,CAAAA,SAAS,CAACP,IAAV,GAAmB,KAAKD,KAAL,CAAWC,IAArC,CACH,C,uCAEQ,iBACqB,KAAKD,KAD1B,CACGD,OADH,aACGA,OADH,CACYE,IADZ,aACYA,IADZ,CAEL,MACI,4BAAK,EAAE,CAAC,SAAR,EACI,2BAAK,EAAE,CAAC,SAAR,EACI,2BAAK,SAAS,CAAC,WAAf,EACI,oBAAC,MAAD,MADJ,CAEKF,OAAO,GAAK,EAAZ,EAAmB,oBAAC,MAAD,EAAQ,KAAK,CAAC,IAAd,CAAmB,IAAI,CAAEA,OAAzB,CAAkC,SAAS,CAAE,KAAKF,SAAlD,EAFxB,CAGI,2BAAK,SAAS,CAAC,sCAAf,EACI,0BAAI,SAAS,CAAC,sBAAd,eADJ,CAHJ,CAMI,yBAAG,SAAS,CAAC,gBAAb,EANJ,CADJ,CAUI,oBAAC,WAAD,EAAa,IAAI,CAAEI,IAAnB,EAVJ,CAYI,2BAAK,SAAS,CAAC,WAAf,EAZJ,CAaI,2BAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAE,CAACQ,OAAO,CAAE,UAAV,CAAnC,EACI,wDAEI,yBAAG,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAV,CAA6B,IAAI,CAAC,IAAlC,oCAFJ,QAII,yBAAG,KAAK,CAAE,CAAEA,KAAK,CAAE,MAAT,CAAV,CAA6B,IAAI,CAAC,IAAlC,mBAJJ,mBAMI,yBAAG,KAAK,CAAE,CAAEA,KAAK,CAAE,MAAT,CAAV,CAA6B,IAAI,CAAC,IAAlC,0BANJ,KADJ,CAbJ,CADJ,CA0BI,oBAAC,OAAD,MA1BJ,CA2BI,2BAAK,SAAS,CAAC,WAAf,EA3BJ,CADJ,CA+BH,C,0BA7DsBpB,KAAK,CAACqB,S,EAgEjC,cAAef,CAAAA,YAAf","sourcesContent":["import React from 'react';\nimport Sidebar from '../components/Sidebar';\nimport { getAnnouncements } from '../../controllers/announcementController';\nimport Notify from '../components/Notify';\nimport ListWrapper from './ListWrapper';\nimport { isAuthenticated } from '../../controllers/userController';\n// const [acms, setAcms] = useState([]);\n// const [showNotify, setShowNotify] = useState(\"\");\n\n// useEffect( async () => {\n//     const data = await getAnnouncements();\n//     if(data.payload) {\n//         setAcms(data.payload);\n//     }\n//     setShowNotify(data.message);\n// });\n\nclass Announcement extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            acms: [],\n            message: \"\"\n        }\n    }\n\n    clearMess = () => {\n        this.setState( {message: \"\"} );\n    }\n\n    componentDidMount() {\n        getAnnouncements(isAuthenticated().user._id)\n        .then( res => {\n            if(res.payload) {\n                this.setState( {acms: res.payload, message: res.message} );\n            } else {\n                this.setState( {message: res.message} );\n            }\n        })\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return nextState.acms !== this.state.acms;\n    }\n\n    render() {\n        const { message, acms } = this.state;\n        return (\n            <div id=\"content\">\n                <div id=\"mainbar\">\n                    <div className=\"main-head\">\n                        <Notify />  \n                        {message !== \"\" &&  <Notify class=\"on\" text={message} clearMess={this.clearMess} />}\n                        <div className=\"grid d-flex align-items-centers mb16\">\n                            <h1 className=\"fs-headline1 mr-auto\">What news?</h1>\n                        </div>\n                        <p className=\"mb24 f13 fw350\"></p>\n                    </div>\n    \n                    <ListWrapper data={acms}/>\n\n                    <div className=\"clear-fix\"></div>\n                    <div className=\"nearfooter\" style={{padding: \"40px 0px\"}}>\n                        <p>\n                            Looking for more? Browse \n                            <a style={{ color: \"#3af\" }} href=\"#a\"> the complete list of questions</a>\n                            , or\n                            <a style={{ color: \"#3af\" }} href=\"#a\"> popular tags </a>\n                            .Help us answer \n                            <a style={{ color: \"#3af\" }} href=\"#a\"> unanswered questions</a>\n                            .\n                        </p>\n                    </div>\n                </div>\n                <Sidebar />\n                <div className=\"clear-fix\"></div>\n            </div>\n        )\n    }\n}\n\nexport default Announcement;"]},"metadata":{},"sourceType":"module"}