{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/admin/users/UsersComponent.js\";\nimport React, { Component } from 'react';\nimport UserInfo from './UserInfo';\nimport DebounceFind from './DebounceFind';\nimport { findUser, getPrivileges, isAuthenticated, adminGetUsers } from \"../../controllers/userController\";\nimport Notify from '../components/Notify';\n\nclass TagsComponent extends Component {\n  constructor() {\n    super();\n\n    this.clearMess = () => {\n      this.setState({\n        message: \"\"\n      });\n    };\n\n    this.handleSearchUser = text => {\n      let uid = isAuthenticated().user._id;\n\n      findUser(text, \"email\", uid).then(res => {\n        if (!res.message) {\n          this.setState({\n            users: res\n          });\n        }\n      });\n    };\n\n    this.state = {\n      users: [],\n      pris: [],\n      message: \"\"\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([getPrivileges() // adminGetUsers(uid)\n    ]).then(res => {\n      this.setState({\n        pris: res[0]\n      });\n    }).catch(err => {\n      alert(\"can not get privileges\");\n    }); // let users = await adminGetUsers(uid);\n    // let pris = await getPrivileges();\n    // this.setState( {users, pris} );\n  }\n\n  render() {\n    const _this$state = this.state,\n          users = _this$state.users,\n          pris = _this$state.pris,\n          message = _this$state.message;\n    return React.createElement(React.Fragment, null, React.createElement(Notify, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), message !== \"\" && React.createElement(Notify, {\n      class: \"on\",\n      text: message,\n      clearMess: this.clearMess,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main-head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grid d-flex align-items-centers mb16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"fs-headline1 mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Users\")), React.createElement(\"p\", {\n      className: \"mb24 f13 fw350\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Find users for ...\"), React.createElement(\"div\", {\n      className: \"grid-ai grid-tags mb16 d-flex align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ps-relative mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(DebounceFind, {\n      handleSearchUser: this.handleSearchUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"svg\", {\n      \"aria-hidden\": \"true\",\n      className: \"svg-icon s-input-icon s-input-icon__search iconSearch\",\n      width: \"18\",\n      height: \"18\",\n      viewBox: \"0 0 18 18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"s-btn-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#popular\",\n      className: \"s-btn s-btn__outline s-btn__primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Reputation\"), React.createElement(\"a\", {\n      href: \"#popular\",\n      className: \"s-btn s-btn__outline s-btn__primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"New users\"), React.createElement(\"a\", {\n      href: \"#popular\",\n      className: \"s-btn s-btn__outline s-btn__primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Voters\"), React.createElement(\"a\", {\n      href: \"#popular\",\n      className: \"s-btn s-btn__outline s-btn__primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Editors\"), React.createElement(\"a\", {\n      href: \"#popular\",\n      className: \"s-btn s-btn__outline s-btn__primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Moderators\")))), React.createElement(\"div\", {\n      id: \"tags-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"tags-browser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, users && users.length > 0 ? users.map((user, i) => {\n      return React.createElement(UserInfo, {\n        key: i,\n        userIf: user,\n        pris: pris,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n    }) : \"No user found\")));\n  }\n\n}\n\nexport default TagsComponent;","map":{"version":3,"sources":["/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/admin/users/UsersComponent.js"],"names":["React","Component","UserInfo","DebounceFind","findUser","getPrivileges","isAuthenticated","adminGetUsers","Notify","TagsComponent","constructor","clearMess","setState","message","handleSearchUser","text","uid","user","_id","then","res","users","state","pris","componentDidMount","Promise","all","catch","err","alert","render","length","map","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport UserInfo from './UserInfo';\nimport DebounceFind from './DebounceFind';\nimport { findUser, getPrivileges, isAuthenticated, adminGetUsers } from \"../../controllers/userController\"\nimport Notify from '../components/Notify';\n\nclass TagsComponent extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            users: [],\n            pris: [],\n            message: \"\"\n        }\n    }\n\n    clearMess = () => {\n        this.setState( {message: \"\"} );\n    }\n\n    componentDidMount() {\n        Promise.all([\n            getPrivileges(),\n            // adminGetUsers(uid)\n        ])\n        .then( res => {\n            this.setState( {pris: res[0]} );\n        })\n        .catch( err => {\n            alert(\"can not get privileges\");\n        })\n\n        // let users = await adminGetUsers(uid);\n        // let pris = await getPrivileges();\n        // this.setState( {users, pris} );\n    }\n\n    handleSearchUser = (text) => {\n        let uid = isAuthenticated().user._id;\n        findUser(text, \"email\", uid)\n        .then( res => {\n            if(!res.message) {\n                this.setState( {users: res} )\n            }\n        })\n    }\n\n\n\n    render() {\n        const { users, pris, message } = this.state;\n        return (\n            <>\n                <Notify />  \n                {message !== \"\" &&  <Notify class=\"on\" text={message} clearMess={this.clearMess} />}\n                <div className=\"main-head\">\n                    <div className=\"grid d-flex align-items-centers mb16\">\n                        <h1 className=\"fs-headline1 mr-auto\">Users</h1>\n                    </div>\n                    <p className=\"mb24 f13 fw350\">Find users for ...</p>\n                    <div className=\"grid-ai grid-tags mb16 d-flex align-items-center\">\n                        <div className=\"ps-relative mr-auto\">\n                            <DebounceFind handleSearchUser={this.handleSearchUser} />\n                            <svg aria-hidden=\"true\" className=\"svg-icon s-input-icon s-input-icon__search iconSearch\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\"><path d=\"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\"></path></svg>\n                        </div>\n                        <div className=\"s-btn-group\">\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">Reputation</a>\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">New users</a>\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">Voters</a>\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">Editors</a>\n                            <a href=\"#popular\" className=\"s-btn s-btn__outline s-btn__primary\">Moderators</a>\n                        </div>\n                    </div>\n                </div>\n\n                <div id=\"tags-list\">\n                    <div id=\"tags-browser\">\n                        {\n                            users && users.length > 0 ? \n                                users.map ( (user, i) => {\n                                    return <UserInfo\n                                        key={i}\n                                        userIf={user}\n                                        pris={pris}\n                                    />   \n                                })\n                            : \"No user found\"\n                        }\n                        \n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nexport default TagsComponent;"]},"metadata":{},"sourceType":"module"}