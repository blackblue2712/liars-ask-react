{"ast":null,"code":"import _slicedToArray from \"/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/client/users/ViewUserDetailBasic.js\";\nimport React, { useState, useEffect } from 'react';\nimport { putUpdateInfo } from '../../controllers/userController';\nimport Notify from '../components/Notify';\nimport Default from '../../images/default.png';\nimport { isAuthenticated } from '../../controllers/userController';\n\nconst ViewUserDetailBasic = props => {\n  const userData = new FormData();\n  const _props$userPayload = props.userPayload,\n        email = _props$userPayload.email,\n        fullname = _props$userPayload.fullname,\n        _id = _props$userPayload._id;\n  const photoUser = props.userPayload.photo;\n\n  const _useState = useState(fullname),\n        _useState2 = _slicedToArray(_useState, 2),\n        ffullname = _useState2[0],\n        setFullname = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        currentPassword = _useState4[0],\n        setCurrentPassword = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        photo = _useState6[0],\n        setPhoto = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        showNotify = _useState8[0],\n        setShowNotify = _useState8[1];\n\n  const handleUpdateInfo = () => {\n    let bntLoading = document.getElementById(\"wrap-btn-loading\");\n    bntLoading.classList.add(\"btn-loading\");\n\n    try {\n      userData.set(\"id\", _id);\n      userData.set(\"fullname\", ffullname);\n      userData.set(\"photo\", photo);\n      putUpdateInfo(userData, isAuthenticated().token).then(res => {\n        setShowNotify(res.message);\n        bntLoading.classList.remove(\"btn-loading\");\n      }).catch(err => {\n        setShowNotify(\"Error occur\");\n        bntLoading.classList.remove(\"btn-loading\");\n      });\n    } catch (err) {\n      console.log(err);\n      setShowNotify(\"Error occur (console)\");\n      bntLoading.classList.remove(\"btn-loading\");\n    }\n  };\n\n  useEffect(() => {\n    setFullname(fullname);\n  }, [props.userPayload.email]);\n  return React.createElement(\"div\", {\n    className: \"userInfoEditting bs-md\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, showNotify !== \"\" && React.createElement(Notify, {\n    class: \"on\",\n    text: showNotify,\n    clearMess: setShowNotify,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"d-flex pb12 mb12 bdb-black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mr24\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"s-btn btn-change-avatar ps-relative\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"bd50\",\n    id: \"user-photo\",\n    src: photoUser || Default,\n    alt: \"avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"choose-image d-none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"w-100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"post-title ps-relative mb4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"email\",\n    className: \"s-label mb4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Email\", React.createElement(\"span\", {\n    className: \"required-7sPBq3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"*\"))), React.createElement(\"div\", {\n    className: \"ps-relative mb16\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"email\",\n    name: \"email\",\n    type: \"text\",\n    className: \"s-input w-100\",\n    value: email,\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"post-title ps-relative mb4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"fullname\",\n    className: \"s-label mb4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"FULLNAME\")), React.createElement(\"div\", {\n    className: \"ps-relative mb16\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"fullname\",\n    name: \"fullname\",\n    type: \"text\",\n    className: \"s-input w-100\",\n    value: ffullname,\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"d-flex w-100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"wrap-btn-loading\",\n    className: \"ps-relative\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"s-btn btn-sm btn-outlined colorGreen\",\n    onClick: handleUpdateInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Follow\"))));\n};\n\nexport default ViewUserDetailBasic;","map":{"version":3,"sources":["/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/client/users/ViewUserDetailBasic.js"],"names":["React","useState","useEffect","putUpdateInfo","Notify","Default","isAuthenticated","ViewUserDetailBasic","props","userData","FormData","userPayload","email","fullname","_id","photoUser","photo","ffullname","setFullname","currentPassword","setCurrentPassword","setPhoto","showNotify","setShowNotify","handleUpdateInfo","bntLoading","document","getElementById","classList","add","set","token","then","res","message","remove","catch","err","console","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,aAAT,QAA8B,kCAA9B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SAASC,eAAT,QAAgC,kCAAhC;;AAEA,MAAMC,mBAAmB,GAAIC,KAAD,IAAW;AACnC,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AADmC,6BAGFF,KAAK,CAACG,WAHJ;AAAA,QAG3BC,KAH2B,sBAG3BA,KAH2B;AAAA,QAGpBC,QAHoB,sBAGpBA,QAHoB;AAAA,QAGVC,GAHU,sBAGVA,GAHU;AAInC,QAAMC,SAAS,GAAGP,KAAK,CAACG,WAAN,CAAkBK,KAApC;;AAJmC,oBAMWf,QAAQ,CAACY,QAAD,CANnB;AAAA;AAAA,QAM5BI,SAN4B;AAAA,QAMjBC,WANiB;;AAAA,qBAOWjB,QAAQ,CAAC,EAAD,CAPnB;AAAA;AAAA,QAO5BkB,eAP4B;AAAA,QAOXC,kBAPW;;AAAA,qBAQTnB,QAAQ,CAAC,IAAD,CARC;AAAA;AAAA,QAQ5Be,KAR4B;AAAA,QAQrBK,QARqB;;AAAA,qBAUCpB,QAAQ,CAAC,EAAD,CAVT;AAAA;AAAA,QAU5BqB,UAV4B;AAAA,QAUhBC,aAVgB;;AAYnC,QAAMC,gBAAgB,GAAG,MAAM;AAC3B,QAAIC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAjB;AACAF,IAAAA,UAAU,CAACG,SAAX,CAAqBC,GAArB,CAAyB,aAAzB;;AACA,QAAI;AACApB,MAAAA,QAAQ,CAACqB,GAAT,CAAa,IAAb,EAAmBhB,GAAnB;AACAL,MAAAA,QAAQ,CAACqB,GAAT,CAAa,UAAb,EAAyBb,SAAzB;AACAR,MAAAA,QAAQ,CAACqB,GAAT,CAAa,OAAb,EAAsBd,KAAtB;AACAb,MAAAA,aAAa,CAACM,QAAD,EAAWH,eAAe,GAAGyB,KAA7B,CAAb,CACCC,IADD,CACOC,GAAG,IAAI;AACVV,QAAAA,aAAa,CAACU,GAAG,CAACC,OAAL,CAAb;AACAT,QAAAA,UAAU,CAACG,SAAX,CAAqBO,MAArB,CAA4B,aAA5B;AACH,OAJD,EAKCC,KALD,CAKQC,GAAG,IAAI;AACXd,QAAAA,aAAa,CAAC,aAAD,CAAb;AACAE,QAAAA,UAAU,CAACG,SAAX,CAAqBO,MAArB,CAA4B,aAA5B;AACH,OARD;AAUH,KAdD,CAcE,OAAOE,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAd,MAAAA,aAAa,CAAC,uBAAD,CAAb;AACAE,MAAAA,UAAU,CAACG,SAAX,CAAqBO,MAArB,CAA4B,aAA5B;AACH;AACJ,GAtBD;;AAwBAjC,EAAAA,SAAS,CAAE,MAAM;AACbgB,IAAAA,WAAW,CAACL,QAAD,CAAX;AACH,GAFQ,EAEL,CAACL,KAAK,CAACG,WAAN,CAAkBC,KAAnB,CAFK,CAAT;AAKA,SAEI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKU,UAAU,KAAK,EAAf,IAAsB,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAmB,IAAA,IAAI,EAAEA,UAAzB;AAAqC,IAAA,SAAS,EAAEC,aAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD3B,EAEI;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,qCAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,EAAE,EAAC,YAAzB;AAAsC,IAAA,GAAG,EAAER,SAAS,IAAIV,OAAxD;AAAiE,IAAA,GAAG,EAAC,QAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,CADJ,EAOI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,OAAO,EAAC,OAAf;AAAuB,IAAA,SAAS,EAAC,aAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAEI;AAAM,IAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFJ,CADJ,CADJ,EAOI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AACI,IAAA,EAAE,EAAC,OADP;AACe,IAAA,IAAI,EAAC,OADpB;AAC4B,IAAA,IAAI,EAAC,MADjC;AACwC,IAAA,SAAS,EAAC,eADlD;AACkE,IAAA,KAAK,EAAEO,KADzE;AAEI,IAAA,QAAQ,MAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAPJ,EAaI;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,OAAO,EAAC,UAAf;AAA0B,IAAA,SAAS,EAAC,aAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CAbJ,EAkBI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AACI,IAAA,EAAE,EAAC,UADP;AACkB,IAAA,IAAI,EAAC,UADvB;AACkC,IAAA,IAAI,EAAC,MADvC;AAC8C,IAAA,SAAS,EAAC,eADxD;AACwE,IAAA,KAAK,EAAEK,SAD/E;AAEI,IAAA,QAAQ,MAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAlBJ,CAPJ,CAFJ,EAoCI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI;AAAK,IAAA,EAAE,EAAC,kBAAR;AAA2B,IAAA,SAAS,EAAC,aAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AACI,IAAA,IAAI,EAAC,QADT;AACkB,IAAA,SAAS,EAAC,sCAD5B;AAEI,IAAA,OAAO,EAAEO,gBAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CAHJ,CApCJ,CAFJ;AAkDH,CA3FD;;AA6FA,eAAejB,mBAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { putUpdateInfo } from '../../controllers/userController';\nimport Notify from '../components/Notify';\nimport Default from '../../images/default.png';\nimport { isAuthenticated } from '../../controllers/userController';\n\nconst ViewUserDetailBasic = (props) => {\n    const userData = new FormData();\n\n    const { email, fullname, _id } = props.userPayload;\n    const photoUser = props.userPayload.photo;\n    \n    const [ffullname, setFullname]              = useState(fullname);\n    const [currentPassword, setCurrentPassword] = useState(\"\");\n    const [photo, setPhoto] = useState(null);\n\n    const [showNotify, setShowNotify] = useState(\"\");\n\n    const handleUpdateInfo = () => {\n        let bntLoading = document.getElementById(\"wrap-btn-loading\");\n        bntLoading.classList.add(\"btn-loading\");\n        try {\n            userData.set(\"id\", _id);\n            userData.set(\"fullname\", ffullname);\n            userData.set(\"photo\", photo);\n            putUpdateInfo(userData, isAuthenticated().token)\n            .then( res => {\n                setShowNotify(res.message);\n                bntLoading.classList.remove(\"btn-loading\");\n            })\n            .catch( err => {\n                setShowNotify(\"Error occur\");\n                bntLoading.classList.remove(\"btn-loading\");\n            })\n            \n        } catch (err) {\n            console.log(err);\n            setShowNotify(\"Error occur (console)\");\n            bntLoading.classList.remove(\"btn-loading\");\n        }\n    }\n\n    useEffect( () => {\n        setFullname(fullname);\n    },  [props.userPayload.email]);\n\n    \n    return (\n        \n        <div className=\"userInfoEditting bs-md\">\n            {showNotify !== \"\" &&  <Notify class=\"on\" text={showNotify} clearMess={setShowNotify} />}\n            <div className=\"d-flex pb12 mb12 bdb-black\">\n                <div className=\"mr24\">\n                    <button className=\"s-btn btn-change-avatar ps-relative\">\n                        <img className=\"bd50\" id=\"user-photo\" src={photoUser || Default} alt=\"avatar\"/>\n                        <div className=\"choose-image d-none\"></div>\n                    </button>\n                </div>\n                <div className=\"w-100\">\n                    <div className=\"post-title ps-relative mb4\">\n                        <label htmlFor=\"email\" className=\"s-label mb4\">\n                            Email\n                            <span className=\"required-7sPBq3\">*</span>\n                        </label>\n                    </div>\n                    <div className=\"ps-relative mb16\">\n                        <input\n                            id=\"email\" name=\"email\" type=\"text\" className=\"s-input w-100\" value={email}\n                            readOnly\n                        />\n                    </div>\n                    <div className=\"post-title ps-relative mb4\">\n                        <label htmlFor=\"fullname\" className=\"s-label mb4\">\n                            FULLNAME\n                        </label>\n                    </div>\n                    <div className=\"ps-relative mb16\">\n                        <input\n                            id=\"fullname\" name=\"fullname\" type=\"text\" className=\"s-input w-100\" value={ffullname}\n                            readOnly\n                        />\n                    </div>\n                </div>\n            </div>\n            \n            <div className=\"d-flex w-100\">\n                {/* <button type=\"button\" className=\"s-btn btn-sm btn-outlined colorRed\">Delete Account</button>\n                <button type=\"button\" className=\"s-btn btn-sm ml-auto btn-cancel\">Cancel</button> */}\n                <div id=\"wrap-btn-loading\" className=\"ps-relative\">\n                    <button\n                        type=\"button\" className=\"s-btn btn-sm btn-outlined colorGreen\"\n                        onClick={handleUpdateInfo}\n                    >Follow</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ViewUserDetailBasic;"]},"metadata":{},"sourceType":"module"}