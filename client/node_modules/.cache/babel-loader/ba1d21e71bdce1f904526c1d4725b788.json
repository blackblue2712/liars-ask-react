{"ast":null,"code":"import _classCallCheck from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Notify from'../components/Notify';import Default from'../../images/default.png';import{isAuthenticated,followUser}from'../../controllers/userController';var ViewUserDetailBasic=/*#__PURE__*/function(_React$Component){_inherits(ViewUserDetailBasic,_React$Component);function ViewUserDetailBasic(){var _this;_classCallCheck(this,ViewUserDetailBasic);_this=_possibleConstructorReturn(this,_getPrototypeOf(ViewUserDetailBasic).call(this));_this.handleFollowUser=function(){var followingId=isAuthenticated().user._id;var followedId=_this.state._id;_this.setState({isFollowed:_this.state.isFollowed===\"Follow\"?\"UnFollow\":\"Follow\",color:_this.state.color===\"colorGreen\"?\"colorRed\":\"colorGreen\"});followUser({followingId:followingId,followedId:followedId}).then(function(res){_this.setState({message:res.message});});};_this.setShowNotify=function(){_this.setState({message:\"\"});};_this.state={message:\"\",_id:\"\",email:\"\",fullname:\"\",photo:\"\",followerIds:[],isFollowed:\"Follow\",color:\"colorGreen\"};return _this;}_createClass(ViewUserDetailBasic,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){var _props$userPayload=props.userPayload,email=_props$userPayload.email,fullname=_props$userPayload.fullname,photo=_props$userPayload.photo,followers=_props$userPayload.followers,_id=_props$userPayload._id;var followingId=isAuthenticated().user._id;var followerIds=[];followers.map(function(fl){return followerIds.push(fl._id);});var flag=followerIds.indexOf(followingId);var isFollowed=flag===-1?\"Follow\":\"UnFollow\";var color=flag===-1?\"colorGreen\":\"colorRed\";this.setState({email:email,fullname:fullname,photo:photo,followerIds:followerIds,_id:_id,isFollowed:isFollowed,color:color});}},{key:\"render\",value:function render(){var _this$state=this.state,message=_this$state.message,photo=_this$state.photo,email=_this$state.email,fullname=_this$state.fullname,isFollowed=_this$state.isFollowed,color=_this$state.color;return React.createElement(\"div\",{className:\"userInfoEditting bs-md\"},message!==\"\"&&React.createElement(Notify,{class:\"on\",text:message,clearMess:this.setShowNotify}),React.createElement(\"div\",{className:\"d-flex pb12 mb12 bdb-black\"},React.createElement(\"div\",{className:\"mr24\"},React.createElement(\"button\",{className:\"s-btn btn-change-avatar ps-relative\"},React.createElement(\"img\",{className:\"bd50\",id:\"user-photo\",src:photo||Default,alt:\"avatar\"}),React.createElement(\"div\",{className:\"choose-image d-none\"}))),React.createElement(\"div\",{className:\"w-100\"},React.createElement(\"div\",{className:\"post-title ps-relative mb4\"},React.createElement(\"label\",{htmlFor:\"email\",className:\"s-label mb4\"},\"Email\",React.createElement(\"span\",{className:\"required-7sPBq3\"},\"*\"))),React.createElement(\"div\",{className:\"ps-relative mb16\"},React.createElement(\"input\",{id:\"email\",name:\"email\",type:\"text\",className:\"s-input w-100\",value:email,readOnly:true})),React.createElement(\"div\",{className:\"post-title ps-relative mb4\"},React.createElement(\"label\",{htmlFor:\"fullname\",className:\"s-label mb4\"},\"FULLNAME\")),React.createElement(\"div\",{className:\"ps-relative mb16\"},React.createElement(\"input\",{id:\"fullname\",name:\"fullname\",type:\"text\",className:\"s-input w-100\",value:fullname,readOnly:true})))),React.createElement(\"div\",{className:\"d-flex w-100\"},React.createElement(\"div\",{id:\"wrap-btn-loading\",className:\"ps-relative ml-auto\"},React.createElement(\"button\",{type:\"button\",className:\"s-btn btn-sm btn-outlined \".concat(color),onClick:this.handleFollowUser},isFollowed))));}}]);return ViewUserDetailBasic;}(React.Component);export default ViewUserDetailBasic;","map":{"version":3,"sources":["/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/client/users/ViewUserDetailBasic.js"],"names":["React","Notify","Default","isAuthenticated","followUser","ViewUserDetailBasic","handleFollowUser","followingId","user","_id","followedId","state","setState","isFollowed","color","then","res","message","setShowNotify","email","fullname","photo","followerIds","props","userPayload","followers","map","fl","push","flag","indexOf","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Notify from '../components/Notify';\nimport Default from '../../images/default.png';\nimport { isAuthenticated, followUser } from '../../controllers/userController';\n\nclass ViewUserDetailBasic extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            message: \"\",\n            _id: \"\",\n            email: \"\",\n            fullname: \"\",\n            photo: \"\",\n            followerIds: [],\n            isFollowed: \"Follow\",\n            color: \"colorGreen\"\n        }\n    \n    }\n\n    componentWillReceiveProps(props) {\n        const { email, fullname, photo, followers, _id } = props.userPayload;\n        const followingId = isAuthenticated().user._id;\n\n        const followerIds = [];\n        followers.map( fl => followerIds.push(fl._id));\n\n        const flag = followerIds.indexOf(followingId);\n        const isFollowed =  flag === -1 ? \"Follow\" : \"UnFollow\";\n        const color = flag === -1 ? \"colorGreen\" : \"colorRed\";\n        this.setState( {email, fullname, photo, followerIds, _id, isFollowed, color} );\n    }\n\n    handleFollowUser = () => {\n        const followingId = isAuthenticated().user._id;\n        const followedId = this.state._id;\n        this.setState( {isFollowed: this.state.isFollowed === \"Follow\" ? \"UnFollow\" : \"Follow\", color: this.state.color === \"colorGreen\" ? \"colorRed\" : \"colorGreen\"} )\n\n        followUser( {followingId, followedId} )\n        .then( res => {\n            this.setState({ message: res.message } );\n        })\n    }\n\n    setShowNotify = () => {\n        this.setState( {message: \"\"} );\n    }\n\n\n    render() {\n        let { message, photo, email, fullname, isFollowed, color } = this.state;\n        return (\n        \n            <div className=\"userInfoEditting bs-md\">\n                {message !== \"\" &&  <Notify class=\"on\" text={message} clearMess={this.setShowNotify} />}\n                <div className=\"d-flex pb12 mb12 bdb-black\">\n                    <div className=\"mr24\">\n                        <button className=\"s-btn btn-change-avatar ps-relative\">\n                            <img className=\"bd50\" id=\"user-photo\" src={photo || Default} alt=\"avatar\"/>\n                            <div className=\"choose-image d-none\"></div>\n                        </button>\n                    </div>\n                    <div className=\"w-100\">\n                        <div className=\"post-title ps-relative mb4\">\n                            <label htmlFor=\"email\" className=\"s-label mb4\">\n                                Email\n                                <span className=\"required-7sPBq3\">*</span>\n                            </label>\n                        </div>\n                        <div className=\"ps-relative mb16\">\n                            <input\n                                id=\"email\" name=\"email\" type=\"text\" className=\"s-input w-100\" value={email}\n                                readOnly\n                            />\n                        </div>\n                        <div className=\"post-title ps-relative mb4\">\n                            <label htmlFor=\"fullname\" className=\"s-label mb4\">\n                                FULLNAME\n                            </label>\n                        </div>\n                        <div className=\"ps-relative mb16\">\n                            <input\n                                id=\"fullname\" name=\"fullname\" type=\"text\" className=\"s-input w-100\" value={fullname}\n                                readOnly\n                            />\n                        </div>\n                    </div>\n                </div>\n                \n                <div className=\"d-flex w-100\">\n                    {/* <button type=\"button\" className=\"s-btn btn-sm btn-outlined colorRed\">Delete Account</button>\n                    <button type=\"button\" className=\"s-btn btn-sm ml-auto btn-cancel\">Cancel</button> */}\n                    <div id=\"wrap-btn-loading\" className=\"ps-relative ml-auto\">\n                        <button\n                            type=\"button\" className={`s-btn btn-sm btn-outlined ${color}`}\n                            onClick={this.handleFollowUser}\n                        >\n                            {isFollowed}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default ViewUserDetailBasic;"]},"metadata":{},"sourceType":"module"}