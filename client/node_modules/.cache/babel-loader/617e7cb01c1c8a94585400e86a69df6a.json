{"ast":null,"code":"import _slicedToArray from \"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/client/components/Header/UserDropDown/UserDropdown.js\";\nimport React, { useState, useEffect } from 'react';\nimport signoutIcon from \"../../../../images/logout.svg\";\nimport Default from '../../../../images/default.png';\nimport ListRestItem from '../ListRestItem/ListRestItem';\nimport { isAuthenticated } from '../../../../controllers/userController';\n\nconst UserDropdown = props => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        open = _useState2[0],\n        setOpen = _useState2[1];\n\n  const closeDropdown = () => {\n    setTimeout(() => {\n      document.querySelector(\"#user-popover\").style.display = \"none\";\n      document.getElementById(\"root\").removeEventListener(\"click\", closeDropdown);\n      setOpen(false);\n    }, 0);\n  };\n\n  const handleOpenUserDropdown = () => {\n    if (!open) {\n      document.querySelector(\"#user-popover\").style.display = \"block\";\n      document.getElementById(\"root\").addEventListener(\"click\", closeDropdown);\n      setOpen(true);\n    } else {\n      document.querySelector(\"#user-popover\").style.display = \"none\";\n      setOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      document.getElementById(\"root\").removeEventListener(\"click\", closeDropdown);\n    };\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"d-flex align-items-center bd50 cs-pointer\",\n    onClick: handleOpenUserDropdown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"bd50\",\n    width: \"40\",\n    height: \"40\",\n    src: isAuthenticated().user.photo || Default,\n    alt: \"avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: \"user-popover\",\n    className: \"s-popover ps-absolute\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"s-popover--arrow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(\"ul\", {\n    className: \"list-rest s-anchors\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(ListRestItem, {\n    title: \"Your profile\",\n    href: \"/users/profile/\".concat(isAuthenticated().user._id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(ListRestItem, {\n    title: \"Your questions\",\n    href: \"/questions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    className: \"oc7\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"s-btn s-btn__hovero w-100 text-left d-flex align-items-center\",\n    onClick: props.handleSignout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    width: \"18\",\n    src: signoutIcon,\n    alt: \"signout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"fs-body1 d-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"\\xA0\\xA0Signout this account\"))))));\n};\n\nexport default UserDropdown;","map":{"version":3,"sources":["/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/client/components/Header/UserDropDown/UserDropdown.js"],"names":["React","useState","useEffect","Default","ListRestItem","isAuthenticated","UserDropdown","props","open","setOpen","closeDropdown","setTimeout","document","querySelector","style","display","getElementById","removeEventListener","handleOpenUserDropdown","addEventListener","user","photo","_id","handleSignout","signoutIcon"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport signoutIcon from '../../../../images/logout.svg'\nimport Default from '../../../../images/default.png';\nimport ListRestItem from '../ListRestItem/ListRestItem';\nimport { isAuthenticated } from '../../../../controllers/userController';\n\nconst UserDropdown = props => {\n    const [open, setOpen] = useState(false);\n\n    const closeDropdown = () => {\n        setTimeout(() => {\n            document.querySelector(\"#user-popover\").style.display = \"none\";\n            document.getElementById(\"root\").removeEventListener(\"click\", closeDropdown);\n            setOpen(false)\n        }, 0)\n    }\n\n    const handleOpenUserDropdown = () => {\n        if(!open) {\n            document.querySelector(\"#user-popover\").style.display = \"block\";\n            document.getElementById(\"root\").addEventListener(\"click\", closeDropdown)\n            setOpen(true);\n        } else {\n            document.querySelector(\"#user-popover\").style.display = \"none\";\n            setOpen(false);\n        }\n    }\n\n    useEffect(() => {\n        return () => {\n            document.getElementById(\"root\").removeEventListener(\"click\", closeDropdown)\n        }\n    }, [])\n\n    return (\n        <>\n            <div\n                className=\"d-flex align-items-center bd50 cs-pointer\"\n                onClick={handleOpenUserDropdown}\n            >\n                <img className=\"bd50\" width=\"40\" height=\"40\" src={isAuthenticated().user.photo || Default} alt=\"avatar\" />\n            </div>\n            <div id=\"user-popover\" className=\"s-popover ps-absolute\">\n                <div className=\"s-popover--arrow\"></div>\n                <ul className=\"list-rest s-anchors\">\n                    <ListRestItem\n                        title=\"Your profile\"\n                        href={`/users/profile/${isAuthenticated().user._id}`}\n                    />\n                    <ListRestItem\n                        title=\"Your questions\"\n                        href=\"/questions\"\n                    />\n                    <hr className=\"oc7\" />\n                    <li>\n                        <button\n                            className=\"s-btn s-btn__hovero w-100 text-left d-flex align-items-center\"\n                            onClick={props.handleSignout}\n                        >\n                            <img width=\"18\" src={signoutIcon} alt=\"signout\" />\n                            <span className=\"fs-body1 d-block\">&nbsp;&nbsp;Signout this account</span>\n                        </button>\n                    </li>\n                </ul>\n            </div>\n        </>\n    )\n}\n\nexport default UserDropdown;"]},"metadata":{},"sourceType":"module"}