{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/client/users/ViewUserDetailBasic.js\";\nimport React from 'react';\nimport Notify from '../components/Notify';\nimport Default from '../../images/default.png';\nimport { isAuthenticated, followUser } from '../../controllers/userController';\n\nclass ViewUserDetailBasic extends React.Component {\n  constructor() {\n    super();\n\n    this.handleFollowUser = () => {\n      const followingId = isAuthenticated().user._id;\n\n      const followedId = this.state._id;\n      this.setState({\n        isFollowed: this.state.isFollowed === \"Follow\" ? \"UnFollow\" : \"Follow\",\n        color: this.state.color === \"colorGreen\" ? \"colorRed\" : \"colorGreen\"\n      });\n      followUser({\n        followingId,\n        followedId\n      }).then(res => {\n        this.setState({\n          message: res.message\n        });\n      });\n    };\n\n    this.setShowNotify = () => {\n      this.setState({\n        message: \"\"\n      });\n    };\n\n    this.state = {\n      message: \"\",\n      _id: \"\",\n      email: \"\",\n      fullname: \"\",\n      photo: \"\",\n      followerIds: [],\n      isFollowed: \"Follow\",\n      color: \"colorGreen\"\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    const _props$userPayload = props.userPayload,\n          email = _props$userPayload.email,\n          fullname = _props$userPayload.fullname,\n          photo = _props$userPayload.photo,\n          followers = _props$userPayload.followers,\n          _id = _props$userPayload._id;\n\n    const followingId = isAuthenticated().user._id;\n\n    const followerIds = [];\n    followers.map(fl => followerIds.push(fl._id));\n    const flag = followerIds.indexOf(followingId);\n    const isFollowed = flag === -1 ? \"Follow\" : \"UnFollow\";\n    const color = flag === -1 ? \"colorGreen\" : \"colorRed\";\n    this.setState({\n      email,\n      fullname,\n      photo,\n      followerIds,\n      _id,\n      isFollowed,\n      color\n    });\n  }\n\n  render() {\n    let _this$state = this.state,\n        message = _this$state.message,\n        photo = _this$state.photo,\n        email = _this$state.email,\n        fullname = _this$state.fullname,\n        isFollowed = _this$state.isFollowed,\n        color = _this$state.color;\n    return React.createElement(\"div\", {\n      className: \"userInfoEditting bs-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, message !== \"\" && React.createElement(Notify, {\n      class: \"on\",\n      text: message,\n      clearMess: this.setShowNotify,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"d-flex pb12 mb12 bdb-black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mr24\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"s-btn btn-change-avatar ps-relative\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"bd50\",\n      id: \"user-photo\",\n      src: photo || Default,\n      alt: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"choose-image d-none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"post-title ps-relative mb4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      className: \"s-label mb4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Email\", React.createElement(\"span\", {\n      className: \"required-7sPBq3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"*\"))), React.createElement(\"div\", {\n      className: \"ps-relative mb16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"email\",\n      name: \"email\",\n      type: \"text\",\n      className: \"s-input w-100\",\n      value: email,\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"post-title ps-relative mb4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"fullname\",\n      className: \"s-label mb4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"FULLNAME\")), React.createElement(\"div\", {\n      className: \"ps-relative mb16\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"fullname\",\n      name: \"fullname\",\n      type: \"text\",\n      className: \"s-input w-100\",\n      value: fullname,\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"d-flex w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"wrap-btn-loading\",\n      className: \"ps-relative ml-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"s-btn btn-sm btn-outlined \".concat(color),\n      onClick: this.handleFollowUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, isFollowed))));\n  }\n\n}\n\nexport default ViewUserDetailBasic;","map":{"version":3,"sources":["/opt/lampp/htdocs/STUDY_SPACE/liars-ask-react/src/client/users/ViewUserDetailBasic.js"],"names":["React","Notify","Default","isAuthenticated","followUser","ViewUserDetailBasic","Component","constructor","handleFollowUser","followingId","user","_id","followedId","state","setState","isFollowed","color","then","res","message","setShowNotify","email","fullname","photo","followerIds","componentWillReceiveProps","props","userPayload","followers","map","fl","push","flag","indexOf","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Notify from '../components/Notify';\nimport Default from '../../images/default.png';\nimport { isAuthenticated, followUser } from '../../controllers/userController';\n\nclass ViewUserDetailBasic extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            message: \"\",\n            _id: \"\",\n            email: \"\",\n            fullname: \"\",\n            photo: \"\",\n            followerIds: [],\n            isFollowed: \"Follow\",\n            color: \"colorGreen\"\n        }\n    \n    }\n\n    componentWillReceiveProps(props) {\n        const { email, fullname, photo, followers, _id } = props.userPayload;\n        const followingId = isAuthenticated().user._id;\n\n        const followerIds = [];\n        followers.map( fl => followerIds.push(fl._id));\n\n        const flag = followerIds.indexOf(followingId);\n        const isFollowed =  flag === -1 ? \"Follow\" : \"UnFollow\";\n        const color = flag === -1 ? \"colorGreen\" : \"colorRed\";\n        this.setState( {email, fullname, photo, followerIds, _id, isFollowed, color} );\n    }\n\n    handleFollowUser = () => {\n        const followingId = isAuthenticated().user._id;\n        const followedId = this.state._id;\n        this.setState( {isFollowed: this.state.isFollowed === \"Follow\" ? \"UnFollow\" : \"Follow\", color: this.state.color === \"colorGreen\" ? \"colorRed\" : \"colorGreen\"} )\n\n        followUser( {followingId, followedId} )\n        .then( res => {\n            this.setState({ message: res.message } );\n        })\n    }\n\n    setShowNotify = () => {\n        this.setState( {message: \"\"} );\n    }\n\n\n    render() {\n        let { message, photo, email, fullname, isFollowed, color } = this.state;\n        return (\n        \n            <div className=\"userInfoEditting bs-md\">\n                {message !== \"\" &&  <Notify class=\"on\" text={message} clearMess={this.setShowNotify} />}\n                <div className=\"d-flex pb12 mb12 bdb-black\">\n                    <div className=\"mr24\">\n                        <button className=\"s-btn btn-change-avatar ps-relative\">\n                            <img className=\"bd50\" id=\"user-photo\" src={photo || Default} alt=\"avatar\"/>\n                            <div className=\"choose-image d-none\"></div>\n                        </button>\n                    </div>\n                    <div className=\"w-100\">\n                        <div className=\"post-title ps-relative mb4\">\n                            <label htmlFor=\"email\" className=\"s-label mb4\">\n                                Email\n                                <span className=\"required-7sPBq3\">*</span>\n                            </label>\n                        </div>\n                        <div className=\"ps-relative mb16\">\n                            <input\n                                id=\"email\" name=\"email\" type=\"text\" className=\"s-input w-100\" value={email}\n                                readOnly\n                            />\n                        </div>\n                        <div className=\"post-title ps-relative mb4\">\n                            <label htmlFor=\"fullname\" className=\"s-label mb4\">\n                                FULLNAME\n                            </label>\n                        </div>\n                        <div className=\"ps-relative mb16\">\n                            <input\n                                id=\"fullname\" name=\"fullname\" type=\"text\" className=\"s-input w-100\" value={fullname}\n                                readOnly\n                            />\n                        </div>\n                    </div>\n                </div>\n                \n                <div className=\"d-flex w-100\">\n                    {/* <button type=\"button\" className=\"s-btn btn-sm btn-outlined colorRed\">Delete Account</button>\n                    <button type=\"button\" className=\"s-btn btn-sm ml-auto btn-cancel\">Cancel</button> */}\n                    <div id=\"wrap-btn-loading\" className=\"ps-relative ml-auto\">\n                        <button\n                            type=\"button\" className={`s-btn btn-sm btn-outlined ${color}`}\n                            onClick={this.handleFollowUser}\n                        >\n                            {isFollowed}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default ViewUserDetailBasic;"]},"metadata":{},"sourceType":"module"}