{"ast":null,"code":"import _classCallCheck from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{isAuthenticated}from'../../controllers/userController';import{postRequestUpgrade}from'../../controllers/requestUpgrade';import Notify from'../components/Notify';var RequestUpgrade=/*#__PURE__*/function(_React$Component){_inherits(RequestUpgrade,_React$Component);function RequestUpgrade(){var _this;_classCallCheck(this,RequestUpgrade);_this=_possibleConstructorReturn(this,_getPrototypeOf(RequestUpgrade).call(this));_this.previewPhoto=function(event){var reader=new FileReader();var inputAvatar=document.getElementById('preview-img');reader.onload=function(){inputAvatar.src=reader.result;};try{reader.readAsDataURL(event.target.files[0]);_this.formData.append(\"photo\",event.target.files[0]);}catch(e){// do nothing\n}};_this.handleSendRequest=function(){window.event.preventDefault();var email=document.getElementById(\"email\").value;var description=document.getElementById(\"description\").value;// handle here\n_this.formData.append(\"email\",email);_this.formData.append(\"description\",description);_this.formData.append(\"_id\",isAuthenticated().user._id);try{postRequestUpgrade(_this.formData,isAuthenticated().token).then(function(res){_this.setState({message:res.message});});}catch(e){console.log(e);}// if(email.match(/student/g) !== null) {\n// } else {\n//     alert(\"Please use your school email\");\n// }\n};_this.clearMess=function(){_this.setState({message:\"\"});};_this.state={message:\"\"};_this.formData=new FormData();return _this;}_createClass(RequestUpgrade,[{key:\"render\",value:function render(){var message=this.state.message;return React.createElement(\"div\",{id:\"content\"},React.createElement(\"div\",{class:\"main-head\"},React.createElement(\"div\",{class:\"grid d-flex align-items-centers mb16\"},React.createElement(\"h1\",{class:\"fs-headline1 mr-auto\"},\"Upgrade to special account\"))),React.createElement(\"div\",{id:\"mainbar\",className:\"w-100\"},React.createElement(Notify,null),message!==\"\"&&React.createElement(Notify,{class:\"on\",text:message,clearMess:this.clearMess}),React.createElement(\"div\",{id:\"announ-form\"},React.createElement(\"div\",{className:\"bg-white bar-sm bs-md p16\"},React.createElement(\"form\",{id:\"send-request-from\"},React.createElement(\"div\",{className:\"post-title ps-relative mb16\"},React.createElement(\"label\",{htmlFor:\"email\",className:\"s-label mb4\"},\"Email\",React.createElement(\"p\",{className:\"s-desscription mt4\"},\"What email address do you use for school? \"))),React.createElement(\"div\",{className:\"ps-relative mb16\"},React.createElement(\"input\",{required:true,id:\"email\",name:\"email\",type:\"email\",className:\"s-input w-100\",placeholder:\"john@student.ctu.edu.vn\"})),React.createElement(\"div\",{className:\"post-title ps-relative mb16\"},React.createElement(\"label\",{htmlFor:\"photo\",className:\"s-label mb4\"},\"Photo\",React.createElement(\"p\",{className:\"s-desscription mt4\"},\"We need a litle more information. Please upload proof of your academic status.\")),React.createElement(\"input\",{type:\"file\",name:\"photo\",id:\"photo\",className:\"d-none\",onChange:this.previewPhoto}),React.createElement(\"div\",{className:\"js-camera-prompt mt16\"},React.createElement(\"button\",{style:{padding:\"4px 8px\",opacity:\".7\"},onClick:function onClick(){window.event.preventDefault();document.getElementById(\"photo\").click();}},React.createElement(\"h4\",null,\"Use your camera to take a picture.\"),React.createElement(\"svg\",{fill:\"#959da5\",class:\"octicon octicon-device-camera\",viewBox:\"0 0 16 16\",width:\"100\",height:\"100\",version:\"1.1\",\"aria-hidden\":\"true\"},React.createElement(\"path\",{d:\"M15 3H7c0-0.55-0.45-1-1-1H2c-0.55 0-1 0.45-1 1-0.55 0-1 0.45-1 1v9c0 0.55 0.45 1 1 1h14c0.55 0 1-0.45 1-1V4c0-0.55-0.45-1-1-1zM6 5H2v-1h4v1z m4.5 7c-1.94 0-3.5-1.56-3.5-3.5s1.56-3.5 3.5-3.5 3.5 1.56 3.5 3.5-1.56 3.5-3.5 3.5z m2.5-3.5c0 1.38-1.13 2.5-2.5 2.5s-2.5-1.13-2.5-2.5 1.13-2.5 2.5-2.5 2.5 1.13 2.5 2.5z\"}))),React.createElement(\"div\",{className:\"preview-area\",style:{float:\"right\"}},React.createElement(\"img\",{id:\"preview-img\",style:{maxWidth:\"250px\"},src:\"\",alt:\"\"})))),React.createElement(\"div\",{className:\"post-title ps-relative mb16\"},React.createElement(\"label\",{htmlFor:\"description\",className:\"s-label mb4\"},\"Descrition\")),React.createElement(\"div\",{className:\"ps-relative mb16\"},React.createElement(\"textarea\",{id:\"description\",name:\"description\",type:\"text\",className:\"s-input w-100\",cols:\"30\",rows:\"10\"})),React.createElement(\"div\",{className:\"post-title ps-relative mb16\"},React.createElement(\"div\",{id:\"wrap-btn-loading\",className:\"ps-relative\"},React.createElement(\"label\",{className:\"s-label mb4\"},React.createElement(\"p\",{className:\"s-desscription mt4\"},\"Please note, your request cannot be edited once it has been submitted, so please verify your details for accuracy before sending them to us.\")),React.createElement(\"button\",{className:\"s-btn s-btn__outline s-btn__primary mt24\",onClick:this.handleSendRequest},\"Submit your information\"))))))),React.createElement(\"div\",{className:\"clear-fix\"}));}}]);return RequestUpgrade;}(React.Component);export default RequestUpgrade;","map":{"version":3,"sources":["/opt/lampp/htdocs/Cloud/Project-NL/liars-ask-react-deploy/client/src/client/users/RequestUpgrade.js"],"names":["React","isAuthenticated","postRequestUpgrade","Notify","RequestUpgrade","previewPhoto","event","reader","FileReader","inputAvatar","document","getElementById","onload","src","result","readAsDataURL","target","files","formData","append","e","handleSendRequest","window","preventDefault","email","value","description","user","_id","token","then","res","setState","message","console","log","clearMess","state","FormData","padding","opacity","click","float","maxWidth","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { isAuthenticated } from '../../controllers/userController';\nimport { postRequestUpgrade } from '../../controllers/requestUpgrade';\nimport Notify from '../components/Notify';\n\nclass RequestUpgrade extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            message: \"\"\n        }\n        \n        this.formData = new FormData();\n    }\n\n    previewPhoto = (event) => {\n        let reader = new FileReader();\n        let inputAvatar = document.getElementById('preview-img');\n        reader.onload = function () {\n            inputAvatar.src = reader.result;\n        }\n        try {\n            reader.readAsDataURL(event.target.files[0]);\n            this.formData.append(\"photo\", event.target.files[0]);\n        } catch(e) {\n            // do nothing\n        }\n    }\n\n    handleSendRequest = () => {\n        window.event.preventDefault();\n        let email = document.getElementById(\"email\").value;\n        let description = document.getElementById(\"description\").value;\n\n\n        // handle here\n        this.formData.append(\"email\", email);\n        this.formData.append(\"description\", description);\n        this.formData.append(\"_id\", isAuthenticated().user._id);\n        try {\n            postRequestUpgrade(this.formData, isAuthenticated().token)\n            .then( res => {\n                this.setState({message: res.message})\n            })\n        } catch (e) {\n            console.log(e);\n        }\n        // if(email.match(/student/g) !== null) {\n           \n            \n        // } else {\n        //     alert(\"Please use your school email\");\n        // }\n    }\n\n    clearMess = () => {\n        this.setState( {message: \"\"} );\n    }\n\n    render() {\n        const { message } = this.state;\n        return (\n            <div id=\"content\">\n                <div class=\"main-head\">\n                    <div class=\"grid d-flex align-items-centers mb16\">\n                        <h1 class=\"fs-headline1 mr-auto\">Upgrade to special account</h1>\n                    </div>\n                </div>\n                <div id=\"mainbar\" className=\"w-100\">\n                    <Notify />\n                    {message !== \"\" &&  <Notify class=\"on\" text={message} clearMess={this.clearMess} />}\n                    <div id=\"announ-form\">\n                        <div className=\"bg-white bar-sm bs-md p16\">\n                            <form id=\"send-request-from\">\n                                <div className=\"post-title ps-relative mb16\">\n                                    <label htmlFor=\"email\" className=\"s-label mb4\">\n                                        Email\n                                        <p className=\"s-desscription mt4\">What email address do you use for school? </p>\n                                    </label>\n                                </div>\n                                <div className=\"ps-relative mb16\">\n                                    <input required={true} id=\"email\" name=\"email\" type=\"email\" className=\"s-input w-100\" placeholder=\"john@student.ctu.edu.vn\"/>\n                                </div>\n\n                                <div className=\"post-title ps-relative mb16\">\n                                    <label htmlFor=\"photo\" className=\"s-label mb4\">\n                                        Photo\n                                        <p className=\"s-desscription mt4\">\n                                            We need a litle more information. Please upload proof of your academic status.\n                                        </p>\n                                    </label>\n                                    <input type=\"file\" name=\"photo\" id=\"photo\" className=\"d-none\" onChange={this.previewPhoto} />\n                                    <div className=\"js-camera-prompt mt16\">\n                                        <button\n                                            style={{padding: \"4px 8px\", opacity: \".7\"}}\n                                            onClick={ () => {window.event.preventDefault(); document.getElementById(\"photo\").click()} }\n                                        >\n                                            <h4>Use your camera to take a picture.</h4>\n                                            <svg fill=\"#959da5\" class=\"octicon octicon-device-camera\" viewBox=\"0 0 16 16\" width=\"100\" height=\"100\" version=\"1.1\" aria-hidden=\"true\"><path d=\"M15 3H7c0-0.55-0.45-1-1-1H2c-0.55 0-1 0.45-1 1-0.55 0-1 0.45-1 1v9c0 0.55 0.45 1 1 1h14c0.55 0 1-0.45 1-1V4c0-0.55-0.45-1-1-1zM6 5H2v-1h4v1z m4.5 7c-1.94 0-3.5-1.56-3.5-3.5s1.56-3.5 3.5-3.5 3.5 1.56 3.5 3.5-1.56 3.5-3.5 3.5z m2.5-3.5c0 1.38-1.13 2.5-2.5 2.5s-2.5-1.13-2.5-2.5 1.13-2.5 2.5-2.5 2.5 1.13 2.5 2.5z\"></path></svg>\n                                        </button>\n                                        <div className=\"preview-area\" style={{float: \"right\"}}>\n                                            <img id=\"preview-img\" style={{maxWidth: \"250px\"}} src=\"\" alt=\"\"/>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div className=\"post-title ps-relative mb16\">\n                                    <label htmlFor=\"description\" className=\"s-label mb4\">\n                                        Descrition\n                                    </label>\n                                </div>\n                                <div className=\"ps-relative mb16\">\n                                    <textarea id=\"description\" name=\"description\" type=\"text\" className=\"s-input w-100\" cols=\"30\" rows=\"10\"></textarea>\n                                </div>\n\n                                \n                                <div className=\"post-title ps-relative mb16\">\n                                    <div id=\"wrap-btn-loading\" className=\"ps-relative\">\n                                        <label className=\"s-label mb4\">\n                                            <p className=\"s-desscription mt4\">\n                                                Please note, your request cannot be edited once it has been submitted, so please verify your details for accuracy before sending them to us.\n                                            </p>\n                                        </label>\n                                        <button\n                                            className=\"s-btn s-btn__outline s-btn__primary mt24\"\n                                            onClick={this.handleSendRequest}\n                                        >Submit your information</button>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"clear-fix\"></div>  \n            </div>\n        )\n    }\n}\n\nexport default RequestUpgrade;"]},"metadata":{},"sourceType":"module"}